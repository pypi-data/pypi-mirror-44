(function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],o[i]&&p.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},2198:function(e,t,n){},"424f":function(e,t,n){},"51b8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"app"},c=i,s=(n("034f"),n("2877")),l=Object(s["a"])(c,o,a,!1,null,null,null),u=l.exports,d=n("5c96"),p=n.n(d),f=n("b2d6"),h=n.n(f),m=(n("0fae"),n("c69f"),n("69be")),v=n.n(m);r["default"].use(p.a,{locale:v.a});var _=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},g=[],w={name:"mainpage"},y=w,x=Object(s["a"])(y,b,g,!1,null,"bbc75830",null),S=(x.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-header",{staticStyle:{background:"#F2F6FC"}},[n("topbar")],1),n("el-container",[n("sidebar"),n("el-container",[n("el-main",{staticStyle:{height:"100%"}},[n("keep-alive",[n("router-view",{staticStyle:{height:"100%"}})],1)],1)],1)],1)],1)],1)}),k=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"tac"},[n("el-col",{attrs:{span:12}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",[e._v("Internet")])]),n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.toSearch}},[e._v("Search")]),n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.toNew}},[e._v("New")]),n("el-menu-item",{attrs:{index:"1-2"},on:{click:e.toMagnet}},[e._v("Magnet")]),n("el-menu-item",{attrs:{index:"1-3"}},[e._v("Categories")])],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",[e._v("Local")])])],2)],1)],1)],1)},O=[],j={name:"sidebar",data:function(){return{isCollapse:!0}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},toSearch:function(){this.$router.push({path:"/search"})},toNew:function(){this.$router.push({path:"/new"})},toMagnet:function(){this.$router.push({path:"/magnet"})}}},C=j,M=(n("b3c4"),Object(s["a"])(C,$,O,!1,null,"117b0a72",null)),E=M.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{height:"100%"}},[e._m(0),n("span",{staticStyle:{float:"right"}},[n("el-button",{attrs:{icon:"el-icon-setting",circle:""}})],1)]),e.loading?n("div",{staticClass:"loading-bar"}):e._e()])},P=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticStyle:{float:"left"}},[r("img",{staticStyle:{height:"60px"},attrs:{src:n("cf05"),alt:"logo"}})])}],H={name:"topbar",data:function(){return{loading:!1}},created:function(){var e=this;Pe.$on("begin-loading",function(){e.loading=!0}),Pe.$on("end-loading",function(){e.loading=!1})}},T=H,W=(n("b081"),Object(s["a"])(T,R,P,!1,null,"39551a6a",null)),q=W.exports,N={name:"index",components:{sidebar:E,topbar:q}},z=N,D=(n("60d2"),Object(s["a"])(z,S,k,!1,null,"2e9f4706",null)),F=D.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-form",{ref:"form",attrs:{model:e.form,inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"Jav Code"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"Actress"},model:{value:e.form.actress,callback:function(t){e.$set(e.form,"actress",t)},expression:"form.actress"}})],1),n("el-form-item",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.allow_many_actresses,callback:function(t){e.$set(e.form,"allow_many_actresses",t)},expression:"form.allow_many_actresses"}})],1),n("el-form-item",[n("el-input-number",{staticStyle:{width:"80px"},attrs:{"controls-position":"right",min:1,label:"Count",size:"mini"},model:{value:e.form.up_to,callback:function(t){e.$set(e.form,"up_to",t)},expression:"form.up_to"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("Search!")]),n("el-button",{on:{click:e.clear}},[e._v("Clear")])],1)],1)],1),n("preview",{attrs:{videos_prop:e.to_be_previewed}})],1)},L=[],I=n("a4bb"),A=n.n(I),B=(n("96cf"),n("3b8d")),G=n("bc3a"),K=n.n(G),Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"whole",staticStyle:{"text-align":"center"}},[""===e.videos?n("el-alert",{attrs:{title:"Sorry, cannot find any result.",type:"error",description:"Please Retry.","show-icon":""}}):e._e(),void 0!=e.videos&&Object.keys(e.videos).length>0?n("table",{attrs:{cellspacing:"30"}},[e._l(Math.floor(Object.keys(e.videos).length/e.item_per_line),function(t){return n("tr",{key:t},e._l(e.item_per_line,function(r){return n("td",{key:r},[n("showcard",{staticStyle:{width:"100%"},attrs:{video:e.videos[(t-1)*e.item_per_line+r-1]}})],1)}),0)}),Object.keys(e.videos).length-Math.floor(Object.keys(e.videos).length/e.item_per_line)*e.item_per_line?n("tr",e._l(Object.keys(e.videos).length-Math.floor(Object.keys(e.videos).length/e.item_per_line)*e.item_per_line,function(t){return n("td",{key:t},[n("showcard",{staticStyle:{width:"100%"},attrs:{video:e.videos[Math.floor(Object.keys(e.videos).length/e.item_per_line)*e.item_per_line+(t-1)]}})],1)}),0):e._e()],2):e._e()],1)},U=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticStyle:{width:"30%"},attrs:{shadow:"hover","body-style":"padding: 0"}},[n("div",{staticStyle:{"background-color":"#e9eef3",color:"teal"}},[e._v(e._s(e.video.title))]),n("img",{staticClass:"image",attrs:{src:e.video.preview_img_url,alt:"preview"},on:{click:function(t){return e.action()}}}),n("div",{staticClass:"bottom"},[n("table",{staticStyle:{display:"inline",float:"left"}},[n("tr",[e.video.actress?n("td",[-1!=e.video.actress.indexOf(",")?n("div",[n("el-popover",{attrs:{placement:"bottom-start",trigger:"hover"}},[e._l(e.video.actress.split(", "),function(t){return n("el-button",{key:t,staticStyle:{display:"block",padding:"5px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(n){return e.onSearch({actress:t})}}},[e._v(e._s(t))])}),n("el-button",{attrs:{slot:"reference",type:"danger",plain:""},slot:"reference"},[e._v("Expand")])],2)],1):n("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSearch({actress:e.video.actress})}}},[e._v(e._s(e.video.actress))])],1):e._e(),e.video.video_url?n("td",[n("el-popover",{attrs:{placement:"bottom-end",trigger:"hover"}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onWatch(e.video.video_url)}}},[e._v("Watch")]),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onMagnet({code:e.video.code})}}},[e._v("Magnet")]),n("el-button",{attrs:{slot:"reference",type:"primary",plain:""},slot:"reference"},[e._v(e._s(e.video.code))])],1)],1):n("td",[n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSearch({code:e.video.code})}}},[e._v(e._s(e.video.code))])],1)])]),n("table",{staticStyle:{display:"inline",float:"right"}},[n("tr",[n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(e._s(e.video.release_date))])],1)])])])},X=[],Y={name:"showcard",props:["video"],methods:{onWatch:function(e){window.open(e)},onSearch:function(e){Pe.$emit("search_jav",e)},onMagnet:function(e){Pe.$emit("search_magnet_by_code",e)},action:function(){this.video.video_url?this.onWatch(this.video.video_url):this.onSearch({code:this.video.code})}}},Z=Y,ee=(n("92bf"),Object(s["a"])(Z,V,X,!1,null,"5b691219",null)),te=ee.exports,ne={name:"preview",components:{showcard:te},props:["videos_prop"],data:function(){return{page:0,item_per_line:3,av:this.videos_prop}},computed:{videos:{get:function(){return this.av?this.av:this.videos_prop},set:function(e){this.av=e}}},methods:{getDocumentTop:function(){var e=0,t=0,n=0;return document.body&&(t=this.$refs.whole.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),e=t-n>0?t:n,e},getWindowHeight:function(){var e=0;return e="CSS1Compat"==document.compatMode?document.documentElement.clientHeight:this.$refs.whole.clientHeight,e},getScrollHeight:function(){var e=0,t=0,n=0;return document.body&&(t=this.$refs.whole.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),e=t-n>0?t:n,e},loadMore:function(){Pe.$emit("load_more",{component:this})}},mounted:function(){var e=this;this.av=null,window.onscroll=function(){e.getScrollHeight()==e.getWindowHeight()+e.getDocumentTop()&&e.loadMore()}}},re=ne,oe=(n("f6d6"),Object(s["a"])(re,Q,U,!1,null,"b4bce8c6",null)),ae=oe.exports,ie={address:location.hostname,port:8081},ce=ie,se={name:"search",components:{preview:ae},data:function(){return{form:{code:"",actress:"",allow_many_actresses:!1,up_to:0},to_be_previewed:null,isPreviewLoading:!1}},methods:{onSearch:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var t,n,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:null,0!==A()(t).length){e.next=3;break}return e.abrupt("return");case 3:if(this.to_be_previewed=null,t.actress&&(this.form.actress=t.actress),t.code&&(this.form.code=t.code),Pe.$emit("begin-loading"),n=null,this.form.code||!this.form.actress){e.next=13;break}return e.next=11,K.a.post("http://".concat(ce.address,":").concat(ce.port,"/search_by_actress"),{actress:this.form.actress}).then(function(e){n=e}).catch(function(){this.to_be_previewed=""});case 11:e.next=21;break;case 13:if(this.form.actress||!this.form.code){e.next=18;break}return e.next=16,K.a.post("http://".concat(ce.address,":").concat(ce.port,"/search_by_code"),{code:this.form.code}).then(function(e){n=e}).catch(function(){this.to_be_previewed=""});case 16:e.next=21;break;case 18:return Pe.$emit("end-loading"),this.clear(),e.abrupt("return");case 21:200===n.status&&n.data?this.to_be_previewed=n.data:this.to_be_previewed="",Pe.$emit("end-loading"),this.clear();case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear:function(){this.form.code="",this.form.actress=""}},mounted:function(){this.onSearch(this.$route.query)},watch:{$route:function(e,t){this.onSearch(this.$route.query)}}},le=se,ue=Object(s["a"])(le,J,L,!1,null,"12b88a63",null),de=ue.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("preview",{attrs:{videos_prop:e.to_be_previewed}})},fe=[],he={name:"newly_released",components:{preview:ae},data:function(){return{to_be_previewed:null}},created:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Pe.$emit("begin-loading"),console.log("http://".concat(ce.address,":").concat(ce.port,"/new")),e.next=4,K.a.post("http://".concat(ce.address,":").concat(ce.port,"/new"),{page:0});case 4:t=e.sent,t.data?this.to_be_previewed=t.data:this.to_be_previewed="",Pe.$emit("end-loading");case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},me=he,ve=Object(s["a"])(me,pe,fe,!1,null,"7db5d6da",null),_e=ve.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.magnet_res,"row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{prop:"description",label:"Total Size",width:"180"}}),n("el-table-column",{attrs:{prop:"peers",label:"Detected Peers",width:"180"}}),n("el-table-column",{attrs:{prop:"magnet",label:"Magnet Link"}})],1)],1)},ge=[],we={name:"magnet",data:function(){return{magnet_res:[]}},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%4===1?"warning-row":t%4===3?"success-row":""},onSearch:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(t instanceof MouseEvent||0===A()(t).length)){e.next=2;break}return e.abrupt("return");case 2:return Pe.$emit("begin-loading"),n={},e.next=6,K.a.post("http://".concat(ce.address,":").concat(ce.port,"/search_magnet_by_code"),{code:t.code}).then(function(e){n=e}).catch(function(){this.magnet_res=""});case 6:if(0!==A()(n).length){e.next=9;break}return Pe.$emit("end-loading"),e.abrupt("return");case 9:200===n.status&&n.data?this.magnet_res=n.data:this.magnet_res="",Pe.$emit("end-loading");case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},watch:{},mounted:function(){this.onSearch(this.$route.query)}},ye=we,xe=(n("7934"),Object(s["a"])(ye,be,ge,!1,null,null,null)),Se=xe.exports,ke=[{path:"/",component:F,children:[{path:"/",component:de},{path:"/search",component:de},{path:"/new",component:_e},{path:"/magnet",component:Se}]}],$e=ke,Oe=r["default"].extend({methods:{listen_to_events:function(){this.$on("search_magnet_by_code",function(e){this.$router.push({path:"/magnet",query:{code:e.code}})}),this.$on("search_jav",function(e){this.$router.push({path:"/search",query:{code:e.code,actress:e.actress}})}),this.$on("load_more",function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=location.pathname,r=t.component,"/new"!==n){e.next=5;break}return e.next=5,K.a.post("http://".concat(ce.address,":").concat(ce.port,"/new"),{page:r.page+1}).then(function(e){200===e.status&&e.data&&(r.av=r.videos.concat(e.data),r.page+=1)}).catch(function(){});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},created:function(){this.listen_to_events()}}),je=Oe,Ce=n("487a"),Me=n.n(Ce);r["default"].config.productionTip=!1,r["default"].use(p.a,{locale:h.a}),r["default"].use(_["a"]),r["default"].use(Me.a);var Ee=new _["a"]({mode:"history",routes:$e}),Re=new je({router:Ee}),Pe=t["default"]=Re;new r["default"]({el:"#app",router:Ee,render:function(e){return e(u)}}).$mount("#app")},"60d2":function(e,t,n){"use strict";var r=n("d1eb"),o=n.n(r);o.a},"64a9":function(e,t,n){},7934:function(e,t,n){"use strict";var r=n("a74b"),o=n.n(r);o.a},"7fe5":function(e,t,n){},"92bf":function(e,t,n){"use strict";var r=n("2198"),o=n.n(r);o.a},a74b:function(e,t,n){},b081:function(e,t,n){"use strict";var r=n("7fe5"),o=n.n(r);o.a},b3c4:function(e,t,n){"use strict";var r=n("51b8"),o=n.n(r);o.a},c69f:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.7906e173.png"},d1eb:function(e,t,n){},f6d6:function(e,t,n){"use strict";var r=n("424f"),o=n.n(r);o.a}});
//# sourceMappingURL=app.833834d7.js.map