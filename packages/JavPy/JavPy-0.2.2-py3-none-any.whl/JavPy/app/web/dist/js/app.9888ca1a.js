(function(e){function t(t){for(var o,a,c=t[0],s=t[1],l=t[2],d=0,m=[];d<c.length;d++)a=c[d],r[a]&&m.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},"21a8":function(e,t,n){"use strict";var o=n("3473"),r=n.n(o);r.a},3360:function(e,t,n){"use strict";var o=n("7e5c"),r=n.n(o);r.a},3473:function(e,t,n){},"52b7":function(e,t,n){"use strict";var o=n("937d"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],a={name:"app"},c=a,s=(n("034f"),n("2877")),l=Object(s["a"])(c,r,i,!1,null,null,null),u=l.exports,d=n("5c96"),m=n.n(d),p=n("b2d6"),h=n.n(p),f=(n("0fae"),n("c69f"),n("69be")),v=n.n(f);o["default"].use(m.a,{locale:v.a});var g=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",position:"relative",width:"100%"}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-header",{staticStyle:{background:"#F2F6FC",position:"fixed","margin-top":"0",width:"100%","z-index":"9999","box-shadow":"0 1px 6px 0 rgba(32,33,36,20)"}},[n("topbar")],1),n("el-container",[n("sidebar",{staticStyle:{"margin-top":"60px",position:"fixed",height:"100%"}}),n("el-container",[n("el-main",{staticStyle:{"margin-top":"60px","margin-left":"200px"}},[n("el-button",{staticStyle:{position:"fixed",bottom:"20vmin",right:"4vmin",width:"4vmin",height:"4vmin"},attrs:{type:"primary",icon:"el-icon-caret-top",circle:""},on:{click:function(t){return e.backToTop()}}}),n("el-button",{staticStyle:{position:"fixed",bottom:"15vmin",right:"4vmin",width:"4vmin",height:"4vmin"},attrs:{type:"primary",icon:"el-icon-arrow-up",circle:""},on:{click:function(t){return e.prev()}}}),n("el-button",{staticStyle:{position:"fixed",bottom:"10vmin",right:"4vmin",width:"4vmin",height:"4vmin"},attrs:{type:"primary",icon:"el-icon-arrow-down",circle:""},on:{click:function(t){return e.next()}}}),n("keep-alive",[n("router-view",{staticStyle:{height:"100%"}})],1)],1)],1)],1)],1)],1)},y=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"tac"},[n("el-col",{staticStyle:{height:"100%"},attrs:{span:12}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",[e._v("Internet")])]),n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.toSearch}},[e._v("Search")]),n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.toNew}},[e._v("New")]),n("el-menu-item",{attrs:{index:"1-2"},on:{click:e.toMagnet}},[e._v("Magnet")]),n("el-menu-item",{attrs:{index:"1-3"}},[e._v("Categories")])],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",[e._v("Local")])])],2)],1)],1)],1)},_=[],x={name:"sidebar",data:function(){return{isCollapse:!0}},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},toSearch:function(){this.$router.push({path:"/search"})},toNew:function(){this.$router.push({path:"/new"})},toMagnet:function(){this.$router.push({path:"/magnet"})}}},S=x,k=(n("6489"),Object(s["a"])(S,w,_,!1,null,"7e44e42e",null)),$=k.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topbar"},[n("div",{staticStyle:{height:"100%"}},[e._m(0),n("span",{staticStyle:{float:"right"}},[n("el-button",{attrs:{icon:"el-icon-setting",circle:""}})],1)]),e.loading?n("div",{staticClass:"loading-bar"}):e._e()])},O=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticStyle:{float:"left"}},[o("img",{staticStyle:{height:"60px"},attrs:{src:n("cf05"),alt:"logo"}})])}],j={name:"topbar",data:function(){return{loading:!1}},created:function(){var e=this;Oe.$on("begin-loading",function(){e.loading=!0}),Oe.$on("end-loading",function(){e.loading=!1})}},T=j,E=(n("52b7"),Object(s["a"])(T,P,O,!1,null,"2b6816ba",null)),M=E.exports,C={name:"index",components:{sidebar:$,topbar:M},methods:{backToTop:function(){document.body.scrollTop=document.documentElement.scrollTop=0},prev:function(){var e=document.documentElement.clientHeight,t=document.documentElement.scrollTop-e;document.body.scrollTop=document.documentElement.scrollTop=t>0?t:0},next:function(){var e=document.documentElement.clientHeight,t=document.documentElement.scrollTop+e,n=document.documentElement.scrollTop+e;document.body.scrollTop=document.documentElement.scrollTop=n<t?n:t}}},R=C,L=(n("61f4"),Object(s["a"])(R,b,y,!1,null,"12f4d6ed",null)),B=L.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-form",{ref:"form",attrs:{model:e.form,inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"Jav Code"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"Actress"},model:{value:e.form.actress,callback:function(t){e.$set(e.form,"actress",t)},expression:"form.actress"}})],1),n("el-form-item",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.allowManyActresses,callback:function(t){e.$set(e.form,"allowManyActresses",t)},expression:"form.allowManyActresses"}})],1),n("el-form-item",[n("el-input-number",{staticStyle:{width:"80px"},attrs:{"controls-position":"right",min:1,label:"Count",size:"mini"},model:{value:e.form.upTo,callback:function(t){e.$set(e.form,"upTo",t)},expression:"form.upTo"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("Search!")]),n("el-button",{on:{click:e.clear}},[e._v("Clear")])],1)],1)],1),e.mode.actress&&e.other.history_name&&Object.keys(e.other.history_name).length>1?n("div",[n("el-steps",{attrs:{active:1e3,"align-center":"",simple:""}},e._l(e.other.history_name,function(t){return n("el-step",{key:t,attrs:{title:t,icon:"none"},nativeOn:{click:function(n){return e.onSearch({actress:t})}}})}),1)],1):e._e(),n("preview",{attrs:{videosProp:e.toBePreviewed}})],1)},z=[],W=n("a4bb"),q=n.n(W),A=(n("96cf"),n("3b8d")),N=n("bc3a"),D=n.n(N),F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"whole",staticStyle:{"text-align":"center"}},[""===e.videos?n("el-alert",{staticStyle:{width:"40%","margin-left":"auto","margin-right":"auto"},attrs:{title:"Sorry, cannot find any result.",type:"error","show-icon":""}}):e._e(),void 0!=e.videos&&Object.keys(e.videos).length>0?n("table",{staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{cellspacing:"30"}},[e._l(Math.floor(Object.keys(e.videos).length/e.itemPerLine),function(t){return n("tr",{key:t},e._l(e.itemPerLine,function(o){return n("td",{key:o},[n("showcard",{staticStyle:{width:"100%"},attrs:{video:e.videos[(t-1)*e.itemPerLine+o-1]}})],1)}),0)}),Object.keys(e.videos).length-Math.floor(Object.keys(e.videos).length/e.itemPerLine)*e.itemPerLine?n("tr",e._l(Object.keys(e.videos).length-Math.floor(Object.keys(e.videos).length/e.itemPerLine)*e.itemPerLine,function(t){return n("td",{key:t},[n("showcard",{staticStyle:{width:"100%"},attrs:{video:e.videos[Math.floor(Object.keys(e.videos).length/e.itemPerLine)*e.itemPerLine+(t-1)]}})],1)}),0):e._e()],2):e._e()],1)},J=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticStyle:{width:"30%"},attrs:{shadow:"none","body-style":"padding: 0"}},[n("div",{staticStyle:{"background-color":"#e9eef3",color:"teal","padding-bottom":"10px","font-size":"20px"}},[e._v(e._s(e.video.title))]),n("img",{staticClass:"image",attrs:{src:e.video.preview_img_url,alt:"preview"},on:{click:function(t){return e.action()}}}),n("div",{staticClass:"bottom"},[n("table",{staticStyle:{display:"inline",float:"left"}},[n("tr",[e.video.actress?n("td",[-1!=e.video.actress.indexOf(",")?n("div",[n("el-popover",{attrs:{placement:"bottom-start",trigger:"hover"}},[e._l(e.video.actress.split(", "),function(t){return n("el-button",{key:t,staticStyle:{display:"block",padding:"5px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(n){return e.onSearch({actress:t})}}},[e._v(e._s(t))])}),n("el-button",{attrs:{slot:"reference",type:"danger",plain:""},slot:"reference"},[e._v("Expand")])],2)],1):n("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSearch({actress:e.video.actress})}}},[e._v(e._s(e.video.actress))])],1):e._e(),e.video.video_url?n("td",[n("el-popover",{attrs:{placement:"bottom-end",trigger:"hover"}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onWatch(e.video.video_url)}}},[e._v("Watch")]),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.onMagnet({code:e.video.code})}}},[e._v("Magnet")]),n("el-button",{attrs:{slot:"reference",type:"primary",plain:""},slot:"reference"},[e._v(e._s(e.video.code))])],1)],1):n("td",[n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",plain:""},on:{click:function(t){return e.onSearch({code:e.video.code})}}},[e._v(e._s(e.video.code))])],1)])]),n("table",{staticStyle:{display:"inline",float:"right"}},[n("tr",[n("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(e._s(e.video.release_date))])],1)])])])},V=[],G={name:"showcard",props:["video"],methods:{onWatch:function(e){window.open(e)},onSearch:function(e){Oe.$emit("search_jav",e)},onMagnet:function(e){Oe.$emit("search_magnet_by_code",e)},action:function(){this.video.video_url?this.onWatch(this.video.video_url):this.onSearch({code:this.video.code})}}},K=G,Q=(n("3360"),Object(s["a"])(K,I,V,!1,null,"436ccbc8",null)),U=Q.exports,X={name:"preview",components:{showcard:U},props:["videosProp"],data:function(){return{page:0,itemPerLine:3,av:this.videosProp}},computed:{videos:{get:function(){return this.av?this.av:this.videosProp},set:function(e){this.av=e}}},methods:{getDocumentTop:function(){var e=0,t=0,n=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),e=t-n>0?t:n,e},getWindowHeight:function(){var e=0;return e="CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight,e},getScrollHeight:function(){var e=0,t=0,n=0;return document.body&&(t=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),e=t-n>0?t:n,e},loadMore:function(){Oe.$emit("load_more",{component:this})}},mounted:function(){var e=this;this.av=null,window.onscroll=function(){e.getScrollHeight()===e.getWindowHeight()+e.getDocumentTop()&&e.loadMore()}}},Y=X,Z=(n("21a8"),Object(s["a"])(Y,F,J,!1,null,"e26ea570",null)),ee=Z.exports,te={address:location.hostname,port:8081},ne=te,oe={name:"search",components:{preview:ee},data:function(){return{form:{code:"",actress:"",allowManyActresses:!1,upTo:0},toBePreviewed:null,other:null,mode:{code:!1,actress:!1}}},methods:{initPage:function(){this.toBePreviewed=null,this.mode.actress=!1,this.mode.code=!1},onSearch:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,n,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,0!==q()(t).length){e.next=3;break}return e.abrupt("return");case 3:if(this.initPage(),t.actress&&(this.form.actress=t.actress,this.form.code=""),t.code&&(this.form.code=t.code,this.form.actress=""),Oe.$emit("begin-loading"),n=null,this.form.code||!this.form.actress){e.next=13;break}return e.next=11,D.a.post("http://".concat(ne.address,":").concat(ne.port,"/search_by_actress"),{actress:this.form.actress,history_name:!this.mode.actress}).then(function(e){n=e}).catch(function(){this.toBePreviewed=""});case 11:e.next=20;break;case 13:if(this.form.actress||!this.form.code){e.next=18;break}return e.next=16,D.a.post("http://".concat(ne.address,":").concat(ne.port,"/search_by_code"),{code:this.form.code}).then(function(e){n=e}).catch(function(){this.toBePreviewed=""});case 16:e.next=20;break;case 18:return Oe.$emit("end-loading"),e.abrupt("return");case 20:200===n.status&&n.data?(this.toBePreviewed=n.data.videos,this.other=n.data.other,this.form.actress&&(this.other.nowViewing=this.form.actress,this.mode.actress=!0)):this.toBePreviewed="",Oe.$emit("end-loading");case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),clear:function(){this.form.code="",this.form.actress=""}},mounted:function(){this.onSearch(this.$route.query)},watch:{$route:function(e,t){this.onSearch(this.$route.query)}}},re=oe,ie=(n("7fd9"),Object(s["a"])(re,H,z,!1,null,"6b207642",null)),ae=ie.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("preview",{attrs:{videosProp:e.toBePreviewed}})},se=[],le={name:"newlyReleased",components:{preview:ee},data:function(){return{toBePreviewed:null}},created:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return Oe.$emit("begin-loading"),e.next=3,D.a.post("http://".concat(ne.address,":").concat(ne.port,"/new"),{page:0});case 3:t=e.sent,t.data?this.toBePreviewed=t.data:this.toBePreviewed="",Oe.$emit("end-loading");case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},ue=le,de=Object(s["a"])(ue,ce,se,!1,null,"6ba2563d",null),me=de.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.magnetRes,"row-class-name":e.tableRowClassName}},[n("el-table-column",{attrs:{prop:"description",label:"Total Size",width:"180"}}),n("el-table-column",{attrs:{prop:"peers",label:"Detected Peers",width:"180"}}),n("el-table-column",{attrs:{prop:"magnet",label:"Magnet Link"}})],1)],1)},he=[],fe={name:"magnet",data:function(){return{magnetRes:[]}},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%4===1?"warning-row":t%4===3?"success-row":""},onSearch:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(0!==q()(t).length){e.next=2;break}return e.abrupt("return");case 2:return Oe.$emit("begin-loading"),n={},e.next=6,D.a.post("http://".concat(ne.address,":").concat(ne.port,"/search_magnet_by_code"),{code:t.code}).then(function(e){n=e}).catch(function(){this.magnetRes=""});case 6:if(0!==q()(n).length){e.next=9;break}return Oe.$emit("end-loading"),e.abrupt("return");case 9:200===n.status&&n.data?this.magnetRes=n.data:this.magnetRes="",Oe.$emit("end-loading");case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},watch:{},mounted:function(){this.onSearch(this.$route.query)}},ve=fe,ge=(n("7934"),Object(s["a"])(ve,pe,he,!1,null,null,null)),be=ge.exports,ye=[{path:"/",component:B,children:[{path:"/",component:ae},{path:"/search",component:ae},{path:"/new",component:me},{path:"/magnet",component:be}]}],we=ye,_e=o["default"].extend({methods:{listenToEvents:function(){this.$on("search_magnet_by_code",function(e){this.$router.push({path:"/magnet",query:{code:e.code}})}),this.$on("search_jav",function(e){this.$router.push({path:"/search",query:{code:e.code,actress:e.actress}})}),this.$on("load_more",function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=location.pathname,o=t.component,"/new"!==n){e.next=5;break}return e.next=5,D.a.post("http://".concat(ne.address,":").concat(ne.port,"/new"),{page:o.page+1}).then(function(e){200===e.status&&e.data&&(o.av=o.videos.concat(e.data),o.page+=1)}).catch(function(){});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},created:function(){this.listenToEvents()}}),xe=_e,Se=n("487a"),ke=n.n(Se);o["default"].config.productionTip=!1,o["default"].use(m.a,{locale:h.a}),o["default"].use(g["a"]),o["default"].use(ke.a);var $e=new g["a"]({mode:"history",routes:we}),Pe=new xe({router:$e}),Oe=t["default"]=Pe;new o["default"]({el:"#app",router:$e,render:function(e){return e(u)}}).$mount("#app")},"61ab":function(e,t,n){},"61f4":function(e,t,n){"use strict";var o=n("61ab"),r=n.n(o);r.a},6489:function(e,t,n){"use strict";var o=n("8608"),r=n.n(o);r.a},"64a9":function(e,t,n){},7934:function(e,t,n){"use strict";var o=n("a74b"),r=n.n(o);r.a},"7e5c":function(e,t,n){},"7fd9":function(e,t,n){"use strict";var o=n("a06d"),r=n.n(o);r.a},8608:function(e,t,n){},"937d":function(e,t,n){},a06d:function(e,t,n){},a74b:function(e,t,n){},c69f:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.7906e173.png"}});
//# sourceMappingURL=app.9888ca1a.js.map