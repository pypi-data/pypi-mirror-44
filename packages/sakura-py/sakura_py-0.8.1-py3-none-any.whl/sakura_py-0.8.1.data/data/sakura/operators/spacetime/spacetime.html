<!--Code started by Michael Ortega for the LIG-->
<!--Started on: April 19th, 2017-->

<!DOCTYPE html>

<html style="height:100%;">
    <head>
        <meta charset="UTF-8" />
        <script src="/js/sakura-common.js"></script>
        <script src="/js/sakura-operator.js"></script>
        
        <!-- operator-specific includes ... -->
        <script src="/webcache/cdnjs/jquery/3.1.1/jquery.min.js"></script>
    
        <!-- ... done. -->
    </head>
    <body style="height:100%;">
        <canvas id="container" style="height:100%; width: 100%;">
            <script type="text/javascript">
                function initWebGL(canvas) { 
                    // Initialise la variable globale gl à null
                    console.log("ici");
                    gl = null; 
                    
                    try { 
                    // Essaye de récupérer le contexte standard. En cas d'échec, il teste l'appel experimental
                        gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl"); 
                    } 
                    catch(e) {
                        console.log(e);
                    } 
                    
                    // Si le contexte GL n'est pas récupéré, on l'indique à l'utilisateur.
                    if (!gl) { 
                        alert("Impossible d'initialiser le WebGL. Il est possible que votre navigateur ne supporte pas cette fonctionnalité."); 
                    }
                    else {
                        console.log('WebGL initialized !!');
                    }
                }
                var canvas = document.getElementById("container");
                console.log($("#container")[0].getContext("webgl"));
                initWebGL(canvas);
                
                if (gl) {
                    gl.clearColor(0.5, 0.5, 1.0, 1.0);                      // Met la couleur d'effacement au noir et complétement opaque
                    gl.enable(gl.DEPTH_TEST);                               // Active le test de profondeur
                    gl.depthFunc(gl.LEQUAL);                                // Les objets proches cachent les objets lointains
                    gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);      // Efface les couleurs et le buffer de profondeur.
                }
            </script>
        </canvas>
    </body>
</html>

