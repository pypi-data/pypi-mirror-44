/*! For license information please see 3f0c250b38de096a7823.chunk.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{114:function(n,e,t){"use strict";t(2);var i={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(n,e){for(var t in e)n[t]=e[t]},_cloneConfig:function(n){var e={isClone:!0};return this._copyProperties(e,n),e},_getAnimationConfigRecursive:function(n,e,t){var i;if(this.animationConfig)if(this.animationConfig.value&&"function"==typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else if(i=n?this.animationConfig[n]:this.animationConfig,Array.isArray(i)||(i=[i]),i)for(var a,o=0;a=i[o];o++)if(a.animatable)a.animatable._getAnimationConfigRecursive(a.type||n,e,t);else if(a.id){var r=e[a.id];r?(r.isClone||(e[a.id]=this._cloneConfig(r),r=e[a.id]),this._copyProperties(r,a)):e[a.id]=a}else t.push(a)},getAnimationConfig:function(n){var e={},t=[];for(var i in this._getAnimationConfigRecursive(n,e,t),e)t.push(e[i]);return t}};t.d(e,"a",function(){return a});var a=[i,{_configureAnimations:function(n){var e=[],t=[];if(n.length>0)for(var i,a=0;i=n[a];a++){var o=document.createElement(i.name);if(o.isNeonAnimation){var r;o.configure||(o.configure=function(n){return null}),r=o.configure(i),t.push({result:r,config:i,neonAnimation:o})}else console.warn(this.is+":",i.name,"not found!")}for(var s=0;s<t.length;s++){var l=t[s].result,c=t[s].config,p=t[s].neonAnimation;try{"function"!=typeof l.cancel&&(l=document.timeline.play(l))}catch(n){l=null,console.warn("Couldnt play","(",c.name,").",n)}l&&e.push({neonAnimation:p,config:c,animation:l})}return e},_shouldComplete:function(n){for(var e=!0,t=0;t<n.length;t++)if("finished"!=n[t].animation.playState){e=!1;break}return e},_complete:function(n){for(var e=0;e<n.length;e++)n[e].neonAnimation.complete(n[e].config);for(e=0;e<n.length;e++)n[e].animation.cancel()},playAnimation:function(n,e){var t=this.getAnimationConfig(n);if(t){this._active=this._active||{},this._active[n]&&(this._complete(this._active[n]),delete this._active[n]);var i=this._configureAnimations(t);if(0!=i.length){this._active[n]=i;for(var a=0;a<i.length;a++)i[a].animation.onfinish=function(){this._shouldComplete(i)&&(this._complete(i),delete this._active[n],this.fire("neon-animation-finish",e,{bubbles:!1}))}.bind(this)}else this.fire("neon-animation-finish",e,{bubbles:!1})}},cancelAnimation:function(){for(var n in this._active){var e=this._active[n];for(var t in e)e[t].animation.cancel()}this._active={}}}]},177:function(n,e,t){"use strict";t(2),t(54),t(143);var i=t(4),a=t(3),o=t(117);function r(){var n=function(n,e){e||(e=n.slice(0));return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['\n  <style include="paper-spinner-styles"></style>\n\n  <div id="spinnerContainer" class-name="[[__computeContainerClasses(active, __coolingDown)]]" on-animationend="__reset" on-webkit-animation-end="__reset">\n    <div class="spinner-layer layer-1">\n      <div class="circle-clipper left"></div>\n      <div class="circle-clipper right"></div>\n    </div>\n\n    <div class="spinner-layer layer-2">\n      <div class="circle-clipper left"></div>\n      <div class="circle-clipper right"></div>\n    </div>\n\n    <div class="spinner-layer layer-3">\n      <div class="circle-clipper left"></div>\n      <div class="circle-clipper right"></div>\n    </div>\n\n    <div class="spinner-layer layer-4">\n      <div class="circle-clipper left"></div>\n      <div class="circle-clipper right"></div>\n    </div>\n  </div>\n']);return r=function(){return n},n}var s=Object(a.a)(r());s.setAttribute("strip-whitespace",""),Object(i.a)({_template:s,is:"paper-spinner",behaviors:[o.a]})},179:function(n,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"a",function(){return r});t(2);var i=t(77),a=t(0),o={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(n,e){e&&(n?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(n){this.closingReason=this.closingReason||{},this.closingReason.confirmed=n},_onDialogClick:function(n){for(var e=Object(a.b)(n).path,t=0,i=e.indexOf(this);t<i;t++){var o=e[t];if(o.hasAttribute&&(o.hasAttribute("dialog-dismiss")||o.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(o.hasAttribute("dialog-confirm")),this.close(),n.stopPropagation();break}}}},r=[i.a,o]},188:function(n,e,t){"use strict";t(2),t(189);var i=t(114),a=t(179),o=t(4),r=t(3);function s(){var n=function(n,e){e||(e=n.slice(0));return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['\n    <style include="paper-dialog-shared-styles"></style>\n    <slot></slot>\n']);return s=function(){return n},n}Object(o.a)({_template:Object(r.a)(s()),is:"paper-dialog",behaviors:[a.a,i.a],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})},189:function(n,e,t){"use strict";t(2),t(40),t(41),t(50),t(76);var i=document.createElement("template");i.setAttribute("style","display: none;"),i.innerHTML='<dom-module id="paper-dialog-shared-styles">\n  <template>\n    <style>\n      :host {\n        display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        @apply --paper-font-body1;\n        @apply --shadow-elevation-16dp;\n        @apply --paper-dialog;\n      }\n\n      :host > ::slotted(*) {\n        margin-top: 20px;\n        padding: 0 24px;\n      }\n\n      :host > ::slotted(.no-padding) {\n        padding: 0;\n      }\n\n      \n      :host > ::slotted(*:first-child) {\n        margin-top: 24px;\n      }\n\n      :host > ::slotted(*:last-child) {\n        margin-bottom: 24px;\n      }\n\n      /* In 1.x, this selector was `:host > ::content h2`. In 2.x <slot> allows\n      to select direct children only, which increases the weight of this\n      selector, so we have to re-define first-child/last-child margins below. */\n      :host > ::slotted(h2) {\n        position: relative;\n        margin: 0;\n\n        @apply --paper-font-title;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-top. */\n      :host > ::slotted(h2:first-child) {\n        margin-top: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      /* Apply mixin again, in case it sets margin-bottom. */\n      :host > ::slotted(h2:last-child) {\n        margin-bottom: 24px;\n        @apply --paper-dialog-title;\n      }\n\n      :host > ::slotted(.paper-dialog-buttons),\n      :host > ::slotted(.buttons) {\n        position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        @apply --layout-horizontal;\n        @apply --layout-end-justified;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(i.content)},791:function(n,e,t){"use strict";t.r(e);t(75),t(188),t(177);var i=t(3),a=t(20),o=(t(86),t(111));function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function s(){var n=function(n,e){e||(e=n.slice(0));return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(['\n      <style include="ha-style-dialog">\n        .error {\n          color: red;\n        }\n        paper-dialog {\n          max-width: 500px;\n        }\n        .username {\n          margin-top: -8px;\n        }\n      </style>\n      <paper-dialog\n        id="dialog"\n        with-backdrop\n        opened="{{_opened}}"\n        on-opened-changed="_openedChanged"\n      >\n        <h2>[[localize(\'ui.panel.config.users.add_user.caption\')]]</h2>\n        <div>\n          <template is="dom-if" if="[[_errorMsg]]">\n            <div class="error">[[_errorMsg]]</div>\n          </template>\n          <paper-input\n            class="name"\n            label="[[localize(\'ui.panel.config.users.add_user.name\')]]"\n            value="{{_name}}"\n            required\n            auto-validate\n            autocapitalize="on"\n            error-message="Required"\n            on-blur="_maybePopulateUsername"\n          ></paper-input>\n          <paper-input\n            class="username"\n            label="[[localize(\'ui.panel.config.users.add_user.username\')]]"\n            value="{{_username}}"\n            required\n            auto-validate\n            autocapitalize="none"\n            error-message="Required"\n          ></paper-input>\n          <paper-input\n            label="[[localize(\'ui.panel.config.users.add_user.password\')]]"\n            type="password"\n            value="{{_password}}"\n            required\n            auto-validate\n            error-message="Required"\n          ></paper-input>\n        </div>\n        <div class="buttons">\n          <template is="dom-if" if="[[_loading]]">\n            <div class="submit-spinner">\n              <paper-spinner active></paper-spinner>\n            </div>\n          </template>\n          <template is="dom-if" if="[[!_loading]]">\n            <mwc-button on-click="_createUser"\n              >[[localize(\'ui.panel.config.users.add_user.create\')]]</mwc-button\n            >\n          </template>\n        </div>\n      </paper-dialog>\n    ']);return s=function(){return n},n}function l(n,e,t,i,a,o,r){try{var s=n[o](r),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(i,a)}function c(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function p(n,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function u(n,e,t){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,e,t){var i=function(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=d(n)););return n}(n,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(t):a.value}})(n,e,t||n)}function d(n){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function h(n,e){return(h=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}var f=function(n){function e(){return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,d(e).apply(this,arguments))}var t,r,f;return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&h(n,e)}(e,Object(o["a"])(a["a"])),t=e,r=[{key:"ready",value:function(){var n=this;u(d(e.prototype),"ready",this).call(this),this.addEventListener("keypress",function(e){13===e.keyCode&&n._createUser()})}},{key:"showDialog",value:function(n){var e=this,t=n.hass,i=n.dialogClosedCallback;this.hass=t,this._dialogClosedCallback=i,this._loading=!1,this._opened=!0,setTimeout(function(){return e.shadowRoot.querySelector("paper-input").focus()},0)}},{key:"_maybePopulateUsername",value:function(){if(!this._username){var n=this._name.split(" ");n.length&&(this._username=n[0].toLowerCase())}}},{key:"_createUser",value:function(){var n,e=(n=regeneratorRuntime.mark(function n(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this._name&&this._username&&this._password){n.next=2;break}return n.abrupt("return");case 2:return this._loading=!0,this._errorMsg=null,n.prev=4,n.next=7,this.hass.callWS({type:"config/auth/create",name:this._name});case 7:t=n.sent,e=t.user.id,n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(4),this._loading=!1,this._errorMsg=n.t0.code,n.abrupt("return");case 16:return n.prev=16,n.next=19,this.hass.callWS({type:"config/auth_provider/homeassistant/create",user_id:e,username:this._username,password:this._password});case 19:n.next=28;break;case 21:return n.prev=21,n.t1=n.catch(16),this._loading=!1,this._errorMsg=n.t1.code,n.next=27,this.hass.callWS({type:"config/auth/delete",user_id:e});case 27:return n.abrupt("return");case 28:this._dialogDone(e);case 29:case"end":return n.stop()}},n,this,[[4,11],[16,21]])}),function(){var e=this,t=arguments;return new Promise(function(i,a){var o=n.apply(e,t);function r(n){l(o,i,a,r,s,"next",n)}function s(n){l(o,i,a,r,s,"throw",n)}r(void 0)})});return function(){return e.apply(this,arguments)}}()},{key:"_dialogDone",value:function(n){this._dialogClosedCallback({userId:n}),this.setProperties({_errorMsg:null,_username:"",_password:"",_dialogClosedCallback:null,_opened:!1})}},{key:"_equals",value:function(n,e){return n===e}},{key:"_openedChanged",value:function(n){this._dialogClosedCallback&&!n.detail.value&&this._dialogDone()}}],f=[{key:"template",get:function(){return Object(i.a)(s())}},{key:"properties",get:function(){return{_hass:Object,_dialogClosedCallback:Function,_loading:{type:Boolean,value:!1},_errorMsg:String,_opened:{type:Boolean,value:!1},_name:String,_username:String,_password:String}}}],r&&c(t.prototype,r),f&&c(t,f),e}();customElements.define("ha-dialog-add-user",f)}}]);
//# sourceMappingURL=3f0c250b38de096a7823.chunk.js.map