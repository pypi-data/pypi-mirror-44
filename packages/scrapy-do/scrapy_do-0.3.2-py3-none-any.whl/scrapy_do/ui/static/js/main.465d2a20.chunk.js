(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,n){e.exports=n(281)},179:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(13),o=n.n(s),c=(n(177),n(178),n(179),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var l=n(125),u=n(73),d=n(25),m=n(17),h="BACKEND_STATUS_SET",p="BACKEND_COUNTDOWN_SET",E="BACKEND_OPENED";function b(e){return{type:h,status:e}}var f={status:"BACKEND_CONNECTING",countdown:0};var v="DAEMON_STATUS_SET",j="PROJECTS_STATUS_SET",g="JOBS_STATUS_SET";var O={memoryUsage:0,cpuUsage:0,time:0,timezone:"UTC",hostname:"unknown",uptime:"0m",daemonVersion:"0.0.0",projects:0,spiders:0,jobsRun:0,jobsSuccessful:0,jobsFailed:0,jobsCanceled:0,jobsScheduled:0};var w=n(61),C="PROJECT_PUSH",y="PROJECT_REMOVE",S="PROJECT_LIST_SET";var N={};var D="JOB_LIST_SET",T="JOB_UPDATE",_="JOB_REMOVE";var k={};function L(e,t){var n=Object.assign(e);return"ACTIVE"in n&&delete n.ACTIVE[t],"COMPLETED"in n&&delete n.COMPLETED[t],n}var U=n(16);function A(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function I(e){if("now"===e)return!0;var t=e.toLowerCase().split(" ");if(0===t.length)return!1;if("every"!==t[0])return!1;if(t.length<2)return!1;var n=parseInt(t[1],10);if(isNaN(n))t=t.slice(1);else{if(t.length<3)return!1;t=t.slice(2)}var a=["second","seconds","minute","minutes","hour","hours","day","days","week","weeks","monday","tuesday","wednesday","thursday","friday","saturday","sunday","at","to"];for(t=t.reverse();t.length;){var r=t.pop();if(a.indexOf(r)<0)return!1;if("to"===r){if(!t.length)return!1;var s=t.pop();if(s=parseInt(s,10),isNaN(s))return!1}else if("at"===r){if(!t.length)return!1;var o=t.pop(),c=o.split(":");if(2!==c.length)return!1;if(o=parseInt(c[0],10),isNaN(o))return!1;if(o=parseInt(c[1],10),isNaN(o))return!1}}return!0}var P=function e(){var t=this;Object(U.a)(this,e),this.connect=function(){if(t.ws)throw Error("Socket not closed");t.countdownTimer&&clearInterval(t.countdownTimer),t.dispatchEvent(e.CONNECTING,null),t.ws=new WebSocket(t.wsUrl),t.ws.onopen=function(){t.dispatchEvent(e.OPENED,null),t.nextTry=2},t.ws.onmessage=function(n){var a=JSON.parse(n.data);t.dispatchEvent(e.MSG_RECEIVED,a)},t.ws.onclose=function(){t.dispatchEvent(e.CLOSED,null),t.ws=null,t.nextTry*=2,t.nextTry>256&&(t.nextTry=256),t.countdown=t.nextTry-1,t.dispatchEvent(e.COUNTDOWN,t.countdown+1);t.countdownTimer=setInterval(function(){t.dispatchEvent(e.COUNTDOWN,t.countdown),0!==t.countdown?t.countdown-=1:t.connect()},1e3)}},this.addEventListener=function(e){t.eventListeners.add(e)},this.removeEventListener=function(e){t.eventListeners.delete(e)},this.dispatchEvent=function(n,a){var r=[],s=!0,o=!1,c=void 0;try{for(var i,l=t.eventListeners[Symbol.iterator]();!(s=(i=l.next()).done);s=!0){var u=i.value;u(n,a)===e.REMOVE_LISTENER&&r.push(u)}}catch(p){o=!0,c=p}finally{try{s||null==l.return||l.return()}finally{if(o)throw c}}for(var d=0,m=r;d<m.length;d++){var h=m[d];t.removeEventListener(h)}},this.sendMessage=function(n){if(!t.ws||t.ws.readyState!==WebSocket.OPEN)return Promise.reject(new Error("Backend not connected."));var a=function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(32),r=Object.assign(n,{type:"ACTION",id:a});return new Promise(function(n,s){t.addEventListener(function(t,r){if(t===e.CLOSED)return s(new Error("Backend disconnected")),e.REMOVE_LISTENER;if(t===e.MSG_RECEIVED&&"ACTION_EXECUTED"===r.type&&r.id===a){if("OK"===r.status){var o=Object.assign(r);delete o.type,delete o.id,delete o.status,n(o)}else s(new Error(r.message));return e.REMOVE_LISTENER}return null}),t.ws.send(JSON.stringify(r))})};var n=window.location,a="https:"===n.protocol?"wss:":"ws:";this.wsUrl="".concat(a,"//").concat(n.host,"/ws"),this.ws=null,this.countdownTimer=null,this.countdown=0,this.nextTry=2,this.eventListeners=new Set,this.connect()};P.CONNECTING=0,P.OPENED=1,P.CLOSED=2,P.MSG_RECEIVED=3,P.COUNTDOWN=4,P.REMOVE_LISTENER=0;var R=new P,M=n(18),J=n(20),B=n(19),V=n(21),x=n(161),z=n(85),F=n(159),G=n(88),H=n(89),W=n(51),Y=n(76),K=n(71),X=function(e){function t(){return Object(U.a)(this,t),Object(J.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{inverse:!0,collapseOnSelect:!0},r.a.createElement(F.a.Header,null,r.a.createElement(F.a.Brand,null,r.a.createElement(K.a,{to:"/"},"Scrapy Do")),r.a.createElement(F.a.Toggle,null)),r.a.createElement(F.a.Collapse,null,r.a.createElement(G.a,{pullRight:!0},r.a.createElement(Y.LinkContainer,{to:"/dashboard"},r.a.createElement(H.a,null,r.a.createElement(W.a,{glyph:"dashboard"})," Dashboard")),r.a.createElement(Y.LinkContainer,{to:"/project-list"},r.a.createElement(H.a,null,r.a.createElement(W.a,{glyph:"compressed"})," Projects")),r.a.createElement(Y.LinkContainer,{to:"/job-list/active"},r.a.createElement(H.a,null,r.a.createElement(W.a,{glyph:"flash"})," Active Jobs")),r.a.createElement(Y.LinkContainer,{to:"/job-list/completed"},r.a.createElement(H.a,null,r.a.createElement(W.a,{glyph:"check"})," Completed Jobs")))))}}]),t}(a.Component),q=n(137),Q=function(e){function t(){return Object(U.a)(this,t),Object(J.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return this.props.status===E?r.a.createElement("div",null):"BACKEND_CONNECTING"===this.props.status?r.a.createElement("div",{className:"col-md-4 col-md-offset-4"},r.a.createElement(q.a,{bsStyle:"info",onClick:this.retryNow},r.a.createElement("div",{className:"alert-content"},"Connecting..."))):r.a.createElement("div",{className:"col-md-4 col-md-offset-4"},r.a.createElement(q.a,{bsStyle:"info",type:"button"},r.a.createElement("div",{className:"alert-content"},"Disconnected. Connecting in",r.a.createElement("strong",null," ",this.props.countdown),1===this.props.countdown?" second":" seconds",". Click ",r.a.createElement("a",{className:"alert-link",onClick:function(e){e.preventDefault(),R.connect()},href:"#n"},"here")," to try now.")))}}]),t}(a.Component);var $=Object(d.b)(function(e,t){return{status:e.backend.status,countdown:e.backend.countdown}},function(e){return{}})(Q),Z=n(139),ee=n(98),te=n.n(ee),ne=function(e){function t(){return Object(U.a)(this,t),Object(J.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=te.a.unix(this.props.time).tz(this.props.timezone).format("YYYY-MM-DD HH:mm");return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("div",{className:"dashboard-content"},r.a.createElement("img",{src:"scrapy-do-logo.png",alt:"Scrapy-Do Logo"}),r.a.createElement("div",{className:"text-summary"},r.a.createElement("div",null,"Version ",this.props.daemonVersion," @ ",this.props.hostname),r.a.createElement("div",null,"Server time: ",e," (",this.props.timezone,")"),r.a.createElement("div",null,"Uptime: ",this.props.uptime," | CPU Usage: ",this.props.cpuUsage,"% | Memory Usage: ",this.props.memoryUsage,"MB"),r.a.createElement("div",null,"Projects: ",this.props.projects," | Spiders: ",this.props.spiders),r.a.createElement("div",{className:"jobs-summary"},r.a.createElement(Z.a,{striped:!0,bordered:!0,condensed:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Jobs Run"),r.a.createElement("th",null,"Successful"),r.a.createElement("th",null,"Failed"),r.a.createElement("th",null,"Canceled"),r.a.createElement("th",null,"Scheduled"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.props.jobsRun),r.a.createElement("td",null,this.props.jobsSuccessful),r.a.createElement("td",null,this.props.jobsFailed),r.a.createElement("td",null,this.props.jobsCanceled),r.a.createElement("td",null,this.props.jobsScheduled))))))))}}]),t}(a.Component);var ae=Object(d.b)(function(e,t){return Object(m.a)({},e.status)},function(e){return{}})(ne),re=n(158),se=n(34),oe=n(27),ce=n.n(oe);var ie=n(150),le=n(148),ue=n(160),de=n(151),me=n(153),he={show:!1,projectsDisabled:!1,spidersDisabled:!0,scheduleDisabled:!0,submitDisabled:!0,project:"__select",spider:"__select",schedule:"now"},pe=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state=he,n.show=function(){n.setState({show:!0})},n.showForSpider=function(e,t){n.setState({show:!0,project:e,spider:t,projectsDisabled:!0,scheduleDisabled:!1,submitDisabled:!1})},n.hide=function(){n.setState(he)},n.schedule=function(){var e,t,a;(e=n.state.project,t=n.state.spider,a=n.state.schedule,R.sendMessage({action:"JOB_SCHEDULE",project:e,spider:t,schedule:a})).catch(function(e){setTimeout(function(){return n.dialog.showAlert(e.message)},250)}),n.hide()},n.onProjectChange=function(e){"__select"===e.target.value?n.setState({spidersDisabled:!0,scheduleDisabled:!0,submitDisabled:!0,project:e.target.value}):n.setState({spidersDisabled:!1,project:e.target.value})},n.onSpiderChange=function(e){"__select"===e.target.value?n.setState({scheduleDisabled:!0,submitDisabled:!0,spider:e.target.value}):n.setState({scheduleDisabled:!1,submitDisabled:!I(n.state.schedule),spider:e.target.value})},n.onScheduleChange=function(e){n.setState({schedule:e.target.value,submitDisabled:!I(e.target.value)})},n}return Object(V.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){this.props.provideController({show:this.show,showForSpider:this.showForSpider})}},{key:"componentWillUnmount",value:function(){this.props.provideController(null)}},{key:"render",value:function(){var e=this,t=r.a.createElement(ie.a,{controlId:"projectSelect"},r.a.createElement(le.a,null,"Project"),r.a.createElement(ue.a,{componentClass:"select",placeholder:"__select",disabled:this.state.projectsDisabled,onChange:this.onProjectChange,value:this.state.project},r.a.createElement("option",{value:"__select"},"Select Project"),this.props.__projects.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),n=[];"__select"!==this.state.project&&this.state.project in this.props&&(n=this.props[this.state.project].spiders);var a=r.a.createElement(ie.a,{controlId:"spiderSelect"},r.a.createElement(le.a,null,"Spider"),r.a.createElement(ue.a,{componentClass:"select",placeholder:"__select",disabled:this.state.spidersDisabled,onChange:this.onSpiderChange,value:this.state.spider},r.a.createElement("option",{value:"__select"},"Select Spider"),n.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),s=r.a.createElement(ie.a,{controlId:"scheduleInput",validationState:I(this.state.schedule)?"success":"error"},r.a.createElement(le.a,null,"Schedule"),r.a.createElement(ue.a,{type:"text",disabled:this.state.scheduleDisabled,value:this.state.schedule,onChange:this.onScheduleChange}),r.a.createElement(ue.a.Feedback,null),r.a.createElement(de.a,null,"See the ",r.a.createElement("a",{href:"https://scrapy-do.readthedocs.io/en/latest/basic-concepts.html#scheduling-specs"},"docs")," on scheduling specs."));return r.a.createElement("div",null,r.a.createElement(ce.a,{ref:function(t){e.dialog=t}}),r.a.createElement(me.a,{show:this.state.show,onHide:this.handleClose,bsSize:"small"},r.a.createElement(me.a.Body,null,t,a,s),r.a.createElement(me.a.Footer,null,r.a.createElement(se.a,{onClick:this.hide,bsSize:"small"},"Cancel"),r.a.createElement(se.a,{onClick:this.schedule,bsStyle:"primary",bsSize:"small",disabled:this.state.submitDisabled},"Schedule"))))}}]),t}(a.Component);var Ee=Object(d.b)(function(e,t){return Object(m.a)({__projects:Object.keys(e.projects).sort()},e.projects)},function(e){return{}})(pe),be=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).showRemoveDialog=function(){var e=n.props;n.dialog.show({body:'Are you sure you want to remove project "'.concat(e.name,'"?'),actions:[ce.a.CancelAction(),ce.a.Action("Remove",function(){var t;(t=e.name,R.sendMessage({action:"PROJECT_REMOVE",name:t})).catch(function(e){setTimeout(function(){return n.dialog.showAlert(e.message)},250)})},"btn-danger")]})},n.showScheduleDialog=function(e,t){n.scheduleDialogCtl.showForSpider(e,t)},n}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this,t=this.props;return r.a.createElement(re.a,null,r.a.createElement(ce.a,{ref:function(t){e.dialog=t}}),r.a.createElement(Ee,{provideController:function(t){return e.scheduleDialogCtl=t}}),r.a.createElement(re.a.Heading,null,r.a.createElement("div",{className:"list-item"},r.a.createElement("div",{className:"item-panel"},r.a.createElement(se.a,{bsSize:"xsmall",disabled:!this.props.connected,onClick:this.showRemoveDialog},r.a.createElement(W.a,{glyph:"trash"})," Remove")),r.a.createElement("strong",null,t.name))),r.a.createElement(re.a.Body,null,r.a.createElement("div",{className:"spider-list"},t.spiders.map(function(n){return r.a.createElement(se.a,{bsSize:"xsmall",disabled:!e.props.connected,key:n,onClick:function(){return e.showScheduleDialog(t.name,n)}},r.a.createElement(W.a,{glyph:"flash"})," ",n)}))))}}]),t}(a.Component);var fe=Object(d.b)(function(e,t){return Object(m.a)({},e.projects[t.projectName],{connected:e.backend.status===E})},function(e){return{}})(be),ve=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(s)))).fileSelectorChange=function(e){var t=e.target.files;t.length&&(n.archivePromise=new Promise(function(e,n){var a=new FileReader;a.readAsBinaryString(t[0]),a.onload=function(){return e(btoa(a.result))},a.onerror=function(e){return n(e)}}))},n.showPushDialog=function(){var e=r.a.createElement("div",null,r.a.createElement("label",null,"Choose a project archive:"),r.a.createElement("input",{type:"file",id:"filePicker",accept:".zip",onChange:n.fileSelectorChange}));n.dialog.show({body:e,actions:[ce.a.CancelAction(),ce.a.Action("Push",function(){n.archivePromise?n.archivePromise.then(function(e){return t=e,R.sendMessage({action:"PROJECT_PUSH",archiveData:t});var t}).then(function(){n.archivePromise=null}).catch(function(e){setTimeout(function(){return n.dialog.showAlert(e.message)},250)}):setTimeout(function(){return n.dialog.showAlert("No file selected.")},250)},"btn-primary")]})},n}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this,t=this.props.projects,n=r.a.createElement(re.a,null,r.a.createElement("div",{className:"list-empty"},"No projects."));return t.length&&(n=r.a.createElement("div",null,t.map(function(e){return r.a.createElement(fe,{key:e,projectName:e})}))),r.a.createElement("div",{className:"col-md-8 col-md-offset-2"},r.a.createElement(ce.a,{ref:function(t){e.dialog=t}}),r.a.createElement("h2",null,"Projects"),r.a.createElement("div",{className:"control-button-container"},r.a.createElement(se.a,{bsSize:"xsmall",disabled:!this.props.connected,onClick:this.showPushDialog},r.a.createElement(W.a,{glyph:"upload"})," Push project")),n)}}]),t}(a.Component);var je=Object(d.b)(function(e,t){return{projects:Object.keys(e.projects).sort(),connected:e.backend.status===E}},function(e){return{}})(ve),ge=n(152),Oe=n(170),we=n.n(Oe),Ce=n(72),ye=function(e){switch(e){case"SCHEDULED":return"label-primary";case"PENDING":return"label-warning";case"RUNNING":return"label-success";case"CANCELED":return"label-warning";case"SUCCESSFUL":return"label-success";case"FAILED":return"label-danger";default:return"label-default"}},Se=function(e,t){var n=t?"err":"out";return"/get-log/data/".concat(e,".").concat(n)},Ne=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).showCancelDialog=function(){var e=n.props;n.dialog.show({body:"Are you sure you want to cancel the job?",actions:[ce.a.Action("No"),ce.a.Action("Yes",function(){var t;(t=e.identifier,R.sendMessage({action:"JOB_CANCEL",jobId:t})).catch(function(e){setTimeout(function(){return n.dialog.showAlert(e.message)},250)})},"btn-danger")]})},n}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=te.a.unix(t.timestamp),a=n.tz(this.props.timezone).format("YYYY-MM-DD HH:mm:ss"),s="";"RUNNING"===t.status&&(s=r.a.createElement("div",{className:"item-log"},r.a.createElement("a",{href:Se(t.identifier,!1)},"Out Log"),"\xa0|\xa0",r.a.createElement("a",{href:Se(t.identifier,!0)},"Error Log")));var o=r.a.createElement("div",{className:"item-panel",title:a},s,r.a.createElement(se.a,{bsSize:"xsmall",disabled:!this.props.connected,onClick:this.showCancelDialog},r.a.createElement(W.a,{glyph:"remove-circle"})," Cancel"));return"COMPLETED"===this.props.jobList&&(o=r.a.createElement("div",{className:"item-panel"},t.outLog?r.a.createElement("a",{href:Se(t.identifier,!1)},"Out Log"):"",t.outLog&&t.errLog?" | ":"",t.errLog?r.a.createElement("a",{href:Se(t.identifier,!0)},"Error Log"):"")),r.a.createElement(Ce.a,null,r.a.createElement(ce.a,{ref:function(t){e.dialog=t}}),r.a.createElement("div",{className:"list-item"},r.a.createElement("div",{className:"item-panel",title:a},n.fromNow()),r.a.createElement("span",{className:"label ".concat(ye(t.status))},t.status),r.a.createElement("strong",null," ",t.spider)," (",t.project,")"),r.a.createElement("div",{className:"list-item-secondary"},o,"Scheduled by ",A(t.actor)," to run ",t.schedule,"."))}}]),t}(a.Component);var De=Object(d.b)(function(e,t){return Object(m.a)({},e.jobs[t.jobList][t.jobId],{timezone:e.status.timezone,connected:e.backend.status===E})},function(e){return{}})(Ne),Te=function(e){function t(){var e,n;Object(U.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(J.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).showScheduleDialog=function(){n.scheduleDialogCtl.show()},n}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this,t=this.props.jobs,n=this.props.match.params.status,a=r.a.createElement(re.a,null,r.a.createElement("div",{className:"list-empty"},"No jobs."));t.length&&(a=r.a.createElement(ge.a,null,t.map(function(e){return r.a.createElement(De,{key:e,jobId:e,jobList:n.toUpperCase()})})));var s=r.a.createElement("div",{className:"control-button-container"},r.a.createElement(se.a,{bsSize:"xsmall",disabled:!this.props.connected,onClick:this.showScheduleDialog},r.a.createElement(W.a,{glyph:"calendar"})," Schedule a job"));return"completed"===n&&(s=null),r.a.createElement("div",{className:"col-md-8 col-md-offset-2"},r.a.createElement(Ee,{provideController:function(t){return e.scheduleDialogCtl=t}}),r.a.createElement("h2",null,A(n)," Jobs"),s,a)}}]),t}(a.Component);var _e=Object(d.b)(function(e,t){var n=t.match.params.status.toUpperCase(),a=[];return n in e.jobs&&(a=Object.keys(e.jobs[n]).map(function(t){return e.jobs[n][t]}).sort(we()("-timestamp")).map(function(e){return e.identifier})),{jobs:a,connected:e.backend.status===E}},function(e){return{}})(Te),ke=n(171),Le=n.n(ke);function Ue(e){return r.a.createElement("div",{className:"col-md-8 col-md-offset-2"},r.a.createElement("div",{align:"center"},r.a.createElement(Le.a,{size:300,color:"DimGrey"}),r.a.createElement("h3",null,"This is not what you're looking for.")))}var Ae=function(e){function t(){return Object(U.a)(this,t),Object(J.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement($,null),r.a.createElement(x.a,null,r.a.createElement(z.a,{exact:!0,path:"/",component:ae}),r.a.createElement(z.a,{exact:!0,path:"/dashboard",component:ae}),r.a.createElement(z.a,{exact:!0,path:"/project-list",component:je}),r.a.createElement(z.a,{path:"/job-list/:status",component:_e}),r.a.createElement(z.a,{component:Ue})))}}]),t}(a.Component);n.d(t,"store",function(){return Ie});var Ie=Object(u.c)(Object(u.b)({backend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(m.a)({},e,{status:t.status});case p:return Object(m.a)({},e,{countdown:t.countdown});default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)({},e,{memoryUsage:t.memoryUsage,cpuUsage:t.cpuUsage,time:t.time,timezone:t.timezone,hostname:t.hostname,uptime:t.uptime,daemonVersion:t.daemonVersion});case j:return Object(m.a)({},e,{projects:t.projects,spiders:t.spiders});case g:return Object(m.a)({},e,{jobsRun:t.jobsRun,jobsSuccessful:t.jobsSuccessful,jobsFailed:t.jobsFailed,jobsCanceled:t.jobsCanceled,jobsScheduled:t.jobsScheduled});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(m.a)({},e,Object(w.a)({},t.name,{name:t.name,spiders:t.spiders}));case y:var n=Object.assign(e);return delete n[t.name],n;case S:return t.projects.reduce(function(e,t){return e[t.name]=t,e},{});default:return e}},jobs:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case D:var a=n.jobs.reduce(function(e,t){return e[t.identifier]=t,e},{});return Object(m.a)({},t,Object(w.a)({},n.status,a));case _:return L(t,n.jobId);case T:var r=L(t,n.job.identifier);return r["SCHEDULED"===(e=n.job.status)||"PENDING"===e||"RUNNING"===e?"ACTIVE":"COMPLETED"][n.job.identifier]=n.job,r;default:return t}}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());R.addEventListener(function(e,t){e===P.CONNECTING?Ie.dispatch(b("BACKEND_CONNECTING")):e===P.OPENED?Ie.dispatch(b(E)):e===P.CLOSED?Ie.dispatch(b("BACKEND_CLOSED")):e===P.COUNTDOWN&&Ie.dispatch({type:p,countdown:t})}),R.addEventListener(function(e,t){var n,a,r,s,o,c,i;if(e===P.MSG_RECEIVED)switch(t.type){case"DAEMON_STATUS":Ie.dispatch(function(e){var t=e.memoryUsage,n=e.cpuUsage,a=e.time,r=e.timezone,s=e.hostname,o=e.uptime,c=e.daemonVersion;return{type:v,memoryUsage:t,cpuUsage:n,time:a,timezone:r,hostname:s,uptime:o,daemonVersion:c}}(t));break;case"PROJECTS_STATUS":Ie.dispatch(function(e){var t=e.projects,n=e.spiders;return{type:j,projects:t,spiders:n}}(t));break;case"JOBS_STATUS":Ie.dispatch(function(e){var t=e.jobsRun,n=e.jobsSuccessful,a=e.jobsFailed,r=e.jobsCanceled,s=e.jobsScheduled;return{type:g,jobsRun:t,jobsSuccessful:n,jobsFailed:a,jobsCanceled:r,jobsScheduled:s}}(t));break;case"PROJECT_LIST":Ie.dispatch((i=t.projects,{type:S,projects:i}));break;case"PROJECT_PUSH":Ie.dispatch((o=t.name,c=t.spiders,{type:C,name:o,spiders:c}));break;case"PROJECT_REMOVE":Ie.dispatch(function(e){return{type:y,name:e}}(t.name));break;case"JOB_LIST":Ie.dispatch((r=t.status,s=t.jobs,{type:D,status:r,jobs:s}));break;case"JOB_UPDATE":Ie.dispatch((a=t.job,{type:T,job:a}));break;case"JOB_REMOVE":Ie.dispatch((n=t.jobId,{type:_,jobId:n}))}}),o.a.render(r.a.createElement(d.a,{store:Ie},r.a.createElement(l.a,null,r.a.createElement(Ae,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");c?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}}()}},[[172,1,2]]]);
//# sourceMappingURL=main.465d2a20.chunk.js.map