<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:omit-tag="python: 1"
      i18n:domain="ftw.iframeblock">

    <div class="iframeSpinner loading"></div>
    <iframe tal:attributes="src view/get_url;
                            height context/height;
                            scrolling python:'no' if context.auto_size else 'auto';
                            data-height-calculation-method view/height_calculation_method"
            width="100%"
            class="iframeblock loading" onload="onIframeLoaded(this)"></iframe>
    <script tal:condition="context/auto_size">
      var heightCalculationMethod = $("iframe.iframeblock").data("heightCalculationMethod");
      iFrameResize({
        inPageLinks: true,
        heightCalculationMethod: heightCalculationMethod,
        resizedCallback: function () {
          scroll(0, 0);
        }
      })
    </script>

</html>
