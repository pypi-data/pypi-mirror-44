{"version":3,"sources":["GlobalModal.jsx","FolderLabel.jsx","BookmarkLabel.jsx","BookmarkList.jsx","Logo.jsx","SidebarItem.jsx","Sidebar.jsx","ProfileList.jsx","App.jsx","index.js"],"names":["Modal","defaultStyles","overlay","backgroundColor","content","border","GlobalModal","react_default","a","createElement","lib_default","ariaHideApp","isOpen","this","props","style","height","bottom","width","top","left","transform","title","getBody","Component","FolderLabel","className","text","BookmarkLabel","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","folders","createModalBody","bind","assertThisInitialized","getFolders","_this2","fetch","mode","then","response","json","data","setState","_this3","action","method","type","name","value","id","folder_id","defaultValue","url","map","item","selected","folder_name","onClick","appRef","closeModal","float","src","icon","alt","href","target","rel","createIconLabel","_this4","getHyperlink","openModal","getLabel","BookmarkList","bookmarks","getBookmarks","forEach","node_type","children","parent_folder_id","keys","key","hasOwnProperty","push","node","result","undefined","src_BookmarkLabel_0","length","react_treeview_default","nodeLabel","src_FolderLabel","child","traverse","processBookmarkTree","Logo","textLogo","SidebarItem","concat","Sidebar","createImportBody","enctype","src_Logo_0","src_SidebarItem_0","event","window","open","focus","react_router_dom","to","ProfileList","profiles","getProfiles","browser","items","profile","App","modalIsOpen","modalTitle","modalBodyBuilder","bodyBuilder","src_Sidebar_0","src_GlobalModal","react_router","path","component","src_BookmarkList_0","src_ProfileList_0","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"mbASAA,IAAMC,cAAcC,QAAQC,gBAAkB,YAC9CH,IAAMC,cAAcG,QAAQD,gBAAkB,YAC9CH,IAAMC,cAAcG,QAAQC,OAAS,gBA+BtBC,mLA1BP,OAAOC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACHG,aAAa,EACbC,OAAQC,KAAKC,MAAMF,OACnBG,MAAO,CACHX,QAAS,CAELY,OAAQ,OACRC,OAAQ,OAGRC,MAAO,OAGPC,IAAK,MACLC,KAAM,MACNC,UAAW,2BAInBd,EAAAC,EAAAC,cAAA,UAAKI,KAAKC,MAAMQ,OACfT,KAAKC,MAAMS,kBAtBEC,uDCDXC,0LALP,OAAOlB,EAAAC,EAAAC,cAAA,QAAMiB,UAAU,QAAQb,KAAKC,MAAMa,aAFxBH,cCiIXI,qBA/HX,SAAAA,EAAYd,GAAO,IAAAe,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAjB,KAAAe,IACfC,EAAAC,OAAAE,EAAA,EAAAF,CAAAjB,KAAAiB,OAAAG,EAAA,EAAAH,CAAAF,GAAAM,KAAArB,KAAMC,KACDqB,MAAQ,CACTC,QAAS,IAEbP,EAAKQ,gBAAkBR,EAAKQ,gBAAgBC,KAArBR,OAAAS,EAAA,EAAAT,CAAAD,IALRA,oFASfhB,KAAK2B,kDAGI,IAAAC,EAAA5B,KACT6B,MACI,oBACA,CAAEC,KAAM,SACVC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAAQF,KAAK,SAAAG,GACrCN,EAAKO,SAAS,CAAEZ,QAASW,gDAIf,IAAAE,EAAApC,KACd,OAAON,EAAAC,EAAAC,cAAA,QACHiB,UAAU,oBACVwB,OAAO,sBACPC,OAAO,QAGP5C,EAAAC,EAAAC,cAAA,SACI2C,KAAK,SACLC,KAAK,KACLC,MAAOzC,KAAKC,MAAMyC,KAEtBhD,EAAAC,EAAAC,cAAA,SACI2C,KAAK,SACLC,KAAK,YACLC,MAAOzC,KAAKC,MAAM0C,YAItBjD,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SACIiB,UAAU,qBACV0B,KAAK,OACLC,KAAK,QACLI,aAAc5C,KAAKC,MAAMa,QAGjCpB,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SACIiB,UAAU,qBACV0B,KAAK,MACLC,KAAK,MACLI,aAAc5C,KAAKC,MAAM4C,OAGjCnD,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UACIiB,UAAU,qBACV2B,KAAK,UAELxC,KAAKsB,MAAMC,QAAQuB,IAAI,SAACC,GACpB,OAAOrD,EAAAC,EAAAC,cAAA,UACH6C,MAAOM,EAAKL,GACZM,SACIZ,EAAKnC,MAAM0C,YAAcI,EAAKL,GAAK,WAAa,IAEtDK,EAAKE,iBAInBvD,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,SAAO2C,KAAK,SAASE,MAAM,SAC3B/C,EAAAC,EAAAC,cAAA,UACIsD,QAASlD,KAAKC,MAAMkD,OAAOC,WAC3BlD,MAAO,CAAEmD,MAAO,UAFpB,sDAWR,OAAO3D,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAA,OAET0D,IAAKtD,KAAKC,MAAMsD,KAChBC,IAAKxD,KAAKC,MAAMa,OAHb,IAIHd,KAAKC,MAAMa,6CAIf,OAAOpB,EAAAC,EAAAC,cAAA,KACH6D,KAAMzD,KAAKC,MAAM4C,IACjBa,OAAO,SACPC,IAAI,uBAEJ3D,KAAKC,MAAMsD,KAAOvD,KAAK4D,kBAAoB5D,KAAKC,MAAMa,yCAInD,IAAA+C,EAAA7D,KACP,OAAON,EAAAC,EAAAC,cAAA,YACFI,KAAK8D,eACNpE,EAAAC,EAAAC,cAAA,QACIiB,UAAU,sCACVX,MAAO,CAAEmD,MAAO,SAChBH,QAAS,WACLW,EAAK5D,MAAMkD,OAAOY,UACd,gBAAiBF,EAAKrC,sDAQtC,OAAO9B,EAAAC,EAAAC,cAAA,OACHiB,UAAU,QACZb,KAAKgE,mBA3HarD,cCoIbsD,cA3HX,SAAAA,IAAc,IAAAjD,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAjB,KAAAiE,IACVjD,EAAAC,OAAAE,EAAA,EAAAF,CAAAjB,KAAAiB,OAAAG,EAAA,EAAAH,CAAAgD,GAAA5C,KAAArB,QACKa,UAAY,0BACjBG,EAAKM,MAAQ,CAAE4C,UAAW,IAHhBlD,oFAUVhB,KAAKmE,sDAMM,IAAAvC,EAAA5B,KACX6B,IACI,iBACA,CAAEC,KAAM,SACVC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAAQF,KAAK,SAAAG,GACrCN,EAAKO,SAAS,CAAE+B,UAAWhC,oDAS/B,IAwBIa,EAxBAxB,EAAU,GACV2C,EAAY,GAwChB,OAtCAlE,KAAKsB,MAAM4C,UAAUE,QAAQ,SAAArB,GACF,WAAnBA,EAAKsB,UACL9C,EAAQwB,EAAKL,IAAM,CACfA,GAAIK,EAAKL,GACTO,YAAaF,EAAKE,YAClBqB,SAAU,GACVC,iBAAkBxB,EAAKwB,iBACvBF,UAAWtB,EAAKsB,WAEM,aAAnBtB,EAAKsB,YACZH,EAAUnB,EAAKL,IAAM,CACjBA,GAAIK,EAAKL,GACTjC,MAAOsC,EAAKtC,MACZoC,IAAKE,EAAKF,IACVF,UAAWI,EAAKJ,UAChB0B,UAAWtB,EAAKsB,UAChBd,KAAMR,EAAKQ,SAMvBtC,OAAOuD,KAAKN,GAAWE,QAAQ,SAAAK,GAC3B1B,EAAOmB,EAAUO,GACblD,EAAQmD,eAAe3B,EAAKJ,YAC5BpB,EAAQwB,EAAKJ,WAAW2B,SAASK,KAAK5B,KAI9C9B,OAAOuD,KAAKjD,GAAS6C,QAAQ,SAAAK,GACzB1B,EAAOxB,EAAQkD,GACXlD,EAAQmD,eAAe3B,EAAKwB,mBACE,OAA1BxB,EAAKwB,kBACLhD,EAAQwB,EAAKwB,kBAAkBD,SAASK,KAAK5B,KAKlDxB,EAAQ,oCAGVqD,GAAM,IACPC,EADOzC,EAAApC,KAEX,YAAa8E,IAATF,EACOlF,EAAAC,EAAAC,cAACmF,EAAD,CAAejE,KAAK,oBAER,WAAnB8D,EAAKP,UAWDQ,EAVCD,EAAKN,SAASU,OAWXtF,EAAAC,EAAAC,cAACqF,EAAAtF,EAAD,CACI8E,IAAK,UAAYG,EAAKlC,GACtBwC,UACIxF,EAAAC,EAAAC,cAACuF,EAAD,CAAarE,KAAM8D,EAAK3B,eAG3B2B,EAAKN,SAASxB,IAAI,SAAAsC,GAAK,OAAIhD,EAAKiD,SAASD,MAf9C1F,EAAAC,EAAAC,cAACqF,EAAAtF,EAAD,CACI8E,IAAK,UAAYG,EAAKlC,GACtBwC,UACIxF,EAAAC,EAAAC,cAACuF,EAAD,CAAarE,KAAM8D,EAAK3B,gBAgBd,aAAnB2B,EAAKP,YACZQ,EAASnF,EAAAC,EAAAC,cAACmF,EAAD,CACLN,IAAK,YAAcG,EAAKlC,GACxBA,GAAIkC,EAAKlC,GACTC,UAAWiC,EAAKjC,UAChBE,IAAK+B,EAAK/B,IACVU,KAAMqB,EAAKrB,KACXzC,KAAM8D,EAAKnE,MACX0C,OAAQnD,KAAKC,MAAMkD,UAGpB0B,oCAIP,OAAOnF,EAAAC,EAAAC,cAAA,OAAKiB,UAAWb,KAAKa,WACvBb,KAAKqF,SAASrF,KAAKsF,+BAtHL3E,aCUZ4E,kMAnBP,MAAO,CACH,qKACA,iJACA,oKAKJ,OAAO7F,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,QAClBnB,EAAAC,EAAAC,cAAA,QAAMiB,UAAU,aACXb,KAAKwF,WAAW1C,IAAI,SAACC,GAClB,OAAOA,EAAO,gBAbfpC,cCgBJ8E,0LAdP,OAAO/F,EAAAC,EAAAC,cAAA,OACHiB,UACIb,KAAKC,MAAMY,UAAX,aAAA6E,OACe1F,KAAKC,MAAMY,WACxB,YAENqC,QAASlD,KAAKC,MAAMoC,QAEpB3C,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,mBAAmBb,KAAKC,MAAMa,cAV/BH,cCmFXgF,cA9EX,SAAAA,IAAc,IAAA3E,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAjB,KAAA2F,IACV3E,EAAAC,OAAAE,EAAA,EAAAF,CAAAjB,KAAAiB,OAAAG,EAAA,EAAAH,CAAA0E,GAAAtE,KAAArB,QACK4F,iBAAmB5E,EAAK4E,iBAAiBnE,KAAtBR,OAAAS,EAAA,EAAAT,CAAAD,IAFdA,kFAMV,OAAOtB,EAAAC,EAAAC,cAAA,QACHiG,QAAQ,sBACRvD,OAAO,OACPD,OAAO,yBAEP3C,EAAAC,EAAAC,cAAA,2CACAF,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,UAAQ4C,KAAK,WACT9C,EAAAC,EAAAC,cAAA,UAAQ6C,MAAM,UAAUO,UAAU,GAAlC,WACAtD,EAAAC,EAAAC,cAAA,UAAQ6C,MAAM,UAAd,UACA/C,EAAAC,EAAAC,cAAA,UAAQ6C,MAAM,SAAd,WAGR/C,EAAAC,EAAAC,cAAA,wCACAF,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,SAAO4C,KAAK,OAAOD,KAAK,UAE5B7C,EAAAC,EAAAC,cAAA,KAAGiB,UAAU,0BACTnB,EAAAC,EAAAC,cAAA,SAAO2C,KAAK,SAASE,MAAM,WAC3B/C,EAAAC,EAAAC,cAAA,UACIsD,QAASlD,KAAKC,MAAMkD,OAAOC,WAC3BlD,MAAO,CAAEmD,MAAO,UAFpB,6CAUH,IAAAzB,EAAA5B,KACL,OAAON,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,WAClBnB,EAAAC,EAAAC,cAACkG,EAAD,MACApG,EAAAC,EAAAC,cAACmG,EAAD,CACIjF,KAAK,SACLuB,OAAQ,SAAA2D,GACJpE,EAAK3B,MAAMkD,OAAOY,UACd,mBAAoBnC,EAAKgE,qBAIrClG,EAAAC,EAAAC,cAACmG,EAAD,CACIjF,KAAK,SACLuB,OAAQ,SAAA2D,GACQC,OAAOC,KACf,wBACA,UAEAC,WAGZzG,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAMC,GAAG,kBACL3G,EAAAC,EAAAC,cAACmG,EAAD,CAAajF,KAAK,eAEtBpB,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CAAMC,GAAG,iBACL3G,EAAAC,EAAAC,cAACmG,EAAD,CAAajF,KAAK,cAEtBpB,EAAAC,EAAAC,cAACmG,EAAD,CACIjF,KAAK,aACLuB,OAAQ,SAAA2D,GACQC,OAAOC,KACf,yCACA,UAEAC,WAGZzG,EAAAC,EAAAC,cAACmG,EAAD,CAAajF,KAAK,QAAQD,UAAU,4BAzE1BF,aCqCP2F,qBAtCX,SAAAA,IAAc,IAAAtF,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAjB,KAAAsG,IACVtF,EAAAC,OAAAE,EAAA,EAAAF,CAAAjB,KAAAiB,OAAAG,EAAA,EAAAH,CAAAqF,GAAAjF,KAAArB,QACKsB,MAAQ,CACTiF,SAAU,IAHJvF,oFAQVhB,KAAKwG,oDAGK,IAAA5E,EAAA5B,KACV6B,IACI,qBACA,CAAEC,KAAM,SACVC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAAQF,KAAK,SAAAG,GACrCN,EAAKO,SAAS,CAAEoE,SAAUrE,uCAIzB,IAAAE,EAAApC,KACL,OAAON,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,gBAAenB,EAAAC,EAAAC,cAAA,UACjCqB,OAAOuD,KAAKxE,KAAKsB,MAAMiF,UAAUzD,IAAI,SAAA2D,GACjC,IAAMhG,EAAQf,EAAAC,EAAAC,cAAA,UAAK6G,GACbC,EAAQtE,EAAKd,MAAMiF,SAASE,GAAS3D,IAAI,SAAA6D,GAC3C,OAAOjH,EAAAC,EAAAC,cAAA,UAAK+G,KAEhB,OAAKvE,EAAKd,MAAMiF,SAASE,GAASzB,OAGvB,CAACvE,EAAOiG,GAFR,cA7BD/F,cCuEXiG,cA5DX,SAAAA,IAAc,IAAA5F,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAjB,KAAA4G,IACV5F,EAAAC,OAAAE,EAAA,EAAAF,CAAAjB,KAAAiB,OAAAG,EAAA,EAAAH,CAAA2F,GAAAvF,KAAArB,QACKsB,MAAQ,CACTuF,aAAa,EACbC,WAAY,GACZC,iBAAkB,cAItB/F,EAAK+C,UAAY/C,EAAK+C,UAAUtC,KAAfR,OAAAS,EAAA,EAAAT,CAAAD,IACjBA,EAAKoC,WAAapC,EAAKoC,WAAW3B,KAAhBR,OAAAS,EAAA,EAAAT,CAAAD,IAVRA,yEAgBJP,EAAOuG,GACbhH,KAAKmC,SAAS,CACV2E,WAAYrG,EACZoG,aAAa,EACbE,iBAAkBC,yCAQtBhH,KAAKmC,SAAS,CACV2E,WAAY,GACZD,aAAa,EACbE,iBAAkB,gDAOjB,IAAAnF,EAAA5B,KACL,OAAON,EAAAC,EAAAC,cAAA,OAAKiB,UAAU,OAClBnB,EAAAC,EAAAC,cAACwG,EAAA,EAAD,KACI1G,EAAAC,EAAAC,cAACqH,EAAD,CAAS9D,OAAQnD,OACjBN,EAAAC,EAAAC,cAACsH,EAAD,CACI/D,OAAQnD,KACRD,OAAQC,KAAKsB,MAAMuF,YACnBnG,QAASV,KAAKsB,MAAMyF,iBACpBtG,MAAOT,KAAKsB,MAAMwF,aAEtBpH,EAAAC,EAAAC,cAACuH,EAAA,EAAD,CAAOC,KAAK,iBAAiBC,UACzB,kBAAM3H,EAAAC,EAAAC,cAAC0H,EAAD,CAAcnE,OAAQvB,OAEhClC,EAAAC,EAAAC,cAACuH,EAAA,EAAD,CAAOC,KAAK,gBAAgBC,UACxB,kBAAM3H,EAAAC,EAAAC,cAAC2H,EAAD,CAAapE,OAAQvB,gBArD7BjB,aCTlB6G,IAASC,OAAO/H,EAAAC,EAAAC,cAAC8H,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.d85dbd0f.chunk.js","sourcesContent":["/**\n * Global modal centered floating element with custom title and a body building\n * function to allow more flexibility while creating the body.\n */\nimport React, { Component } from 'react';\nimport Modal from 'react-modal';\n\n\n// Change to dark color theme.\nModal.defaultStyles.overlay.backgroundColor = '#333333AA';\nModal.defaultStyles.content.backgroundColor = '#222222CC';\nModal.defaultStyles.content.border = '#333333CC';\n\n\nclass GlobalModal extends Component {\n    render() {\n        return <Modal\n            ariaHideApp={false}\n            isOpen={this.props.isOpen}\n            style={{\n                content: {\n                    // auto-adjust height and bottom space\n                    height: 'auto',\n                    bottom: 'auto',\n\n                    // dynamic 80% viewport width\n                    width: '80vw',\n\n                    // move origin to center\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)'\n                }\n            }}\n        >\n            <h2>{this.props.title}</h2>\n            {this.props.getBody()}\n        </Modal>;\n    }\n}\n\n\nexport default GlobalModal;\n","import React, { Component } from 'react';\n\n\n/**\n * Custom react-treeview/TreeView nodeLabel property element.\n */\nclass FolderLabel extends Component {\n    render() {\n        return <span className=\"node\">{this.props.text}</span>;\n    }\n}\n\n\nexport default FolderLabel;\n","import React, { Component } from 'react';\nimport './BookmarkLabel.css';\n\n\n/**\n * Custom react-treeview/TreeView nodeLabel property element.\n */\nclass BookmarkLabel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            folders: []\n        };\n        this.createModalBody = this.createModalBody.bind(this);\n    }\n\n    componentWillMount() {\n        this.getFolders();\n    }\n\n    getFolders() {\n        fetch(\n            '/api/list_folders',\n            { mode: \"cors\" }\n        ).then(response => response.json()).then(data => {\n            this.setState({ folders: data });\n        });\n    }\n\n    createModalBody() {\n        return <form\n            className='bookmarkLabelForm'\n            action='./api/edit_bookmark'\n            method='post'\n        >\n            {/* invisible values for POST */}\n            <input\n                type='hidden'\n                name='id'\n                value={this.props.id}\n            />\n            <input\n                type='hidden'\n                name='folder_id'\n                value={this.props.folder_id}\n            />\n\n            {/* visible elements */}\n            <p className='bookmarkLabelParagraph'>\n                <label>Title</label>\n                <input\n                    className='bookmarkLabelInput'\n                    type='text'\n                    name='title'\n                    defaultValue={this.props.text}\n                />\n            </p>\n            <p className='bookmarkLabelParagraph'>\n                <label>URL</label>\n                <input\n                    className='bookmarkLabelInput'\n                    type='url'\n                    name='url'\n                    defaultValue={this.props.url}\n                />\n            </p>\n            <p className='bookmarkLabelParagraph'>\n                <label>Folder</label>\n                <select\n                    className='bookmarkLabelInput'\n                    name='folder'\n                >{\n                    this.state.folders.map((item) => {\n                        return <option\n                            value={item.id}\n                            selected={\n                                this.props.folder_id === item.id ? 'selected' : ''\n                            }\n                        >{item.folder_name}</option>;\n                    })\n                }</select>\n            </p>\n            <p className='bookmarkLabelParagraph'>\n                <input type='submit' value='Save' />\n                <button\n                    onClick={this.props.appRef.closeModal}\n                    style={{ float: 'right' }}\n                >\n                    Cancel\n                </button>\n            </p>\n        </form>;\n    }\n\n    createIconLabel() {\n        return <span><img\n            // data:image/png;base64,encodedstring\n            src={this.props.icon}\n            alt={this.props.text}\n        /> {this.props.text}</span>;\n    }\n\n    getHyperlink() {\n        return <a\n            href={this.props.url}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n        >{\n            this.props.icon ? this.createIconLabel() : this.props.text\n        }</a>;\n    }\n\n    getLabel() {\n        return <span>\n            {this.getHyperlink()}\n            <span\n                className='bookmarkLabel fa fa-pencil-square-o'\n                style={{ float: 'right' }}\n                onClick={() => {\n                    this.props.appRef.openModal(\n                        'Edit bookmark', this.createModalBody\n                    )\n                }}\n            />\n        </span>;\n    }\n\n    render() {\n        return <div\n            className='info'\n        >{this.getLabel()}</div>\n    }\n}\n\n\nexport default BookmarkLabel;\n","import React, { Component } from 'react';\nimport './BookmarkList.css';\n\nimport fetch from 'node-fetch';\n\nimport TreeView from 'react-treeview';\nimport 'react-treeview/react-treeview.css';\nimport FolderLabel from './FolderLabel';\nimport BookmarkLabel from './BookmarkLabel';\n\n\n/**\n * Component rendering the full bookmark tree with nested, collapsable\n * folders and hyperlink bookmarks.\n */\nclass BookmarkList extends Component {\n    constructor() {\n        super();\n        this.className = \"frostmark-bookmark-list\";\n        this.state = { bookmarks: [] };\n    }\n\n    /**\n     * Get the required data during the component mounting.\n     */\n    componentWillMount() {\n        this.getBookmarks();\n    }\n\n    /**\n     * Fetch and store the data in the component state.\n     */\n    getBookmarks() {\n        fetch(\n            '/api/list_tree',\n            { mode: \"cors\" }\n        ).then(response => response.json()).then(data => {\n            this.setState({ bookmarks: data });\n        });\n    }\n\n    /**\n     * Split bookmark tree into folders and bookmarks and nest them manually\n     * into TreeView (folder, nested folders) and its children.\n     */\n    processBookmarkTree() {\n        let folders = {};\n        let bookmarks = {};\n\n        this.state.bookmarks.forEach(item => {\n            if (item.node_type === 'Folder') {\n                folders[item.id] = {\n                    id: item.id,\n                    folder_name: item.folder_name,\n                    children: [],\n                    parent_folder_id: item.parent_folder_id,\n                    node_type: item.node_type\n                };\n            } else if (item.node_type === 'Bookmark') {\n                bookmarks[item.id] = {\n                    id: item.id,\n                    title: item.title,\n                    url: item.url,\n                    folder_id: item.folder_id,\n                    node_type: item.node_type,\n                    icon: item.icon\n                };\n            }\n        });\n\n        let item;\n        Object.keys(bookmarks).forEach(key => {\n            item = bookmarks[key];\n            if (folders.hasOwnProperty(item.folder_id)) {\n                folders[item.folder_id].children.push(item);\n            }\n        });\n\n        Object.keys(folders).forEach(key => {\n            item = folders[key];\n            if (folders.hasOwnProperty(item.parent_folder_id)) {\n                if (item.parent_folder_id !== null) {\n                    folders[item.parent_folder_id].children.push(item);\n                }\n            }\n        });\n\n        return folders[0];\n    }\n\n    traverse(node) {\n        let result;\n        if (node === undefined) {\n            return <BookmarkLabel text=\"No data found.\" />;\n        }\n        if (node.node_type === 'Folder') {\n            if (!node.children.length) {\n                result = (\n                    <TreeView\n                        key={'folder|' + node.id}\n                        nodeLabel={\n                            <FolderLabel text={node.folder_name}></FolderLabel>\n                        }\n                    />\n                );\n            } else {\n                result = (\n                    <TreeView\n                        key={'folder|' + node.id}\n                        nodeLabel={\n                            <FolderLabel text={node.folder_name}></FolderLabel>\n                        }\n                    >\n                        {node.children.map(child => this.traverse(child))}\n                    </TreeView>\n                );\n            }\n        } else if (node.node_type === 'Bookmark') {\n            result = <BookmarkLabel\n                key={'bookmark|' + node.id}\n                id={node.id}\n                folder_id={node.folder_id}\n                url={node.url}\n                icon={node.icon}\n                text={node.title}\n                appRef={this.props.appRef}\n            />;\n        }\n        return result;\n    }\n\n    render() {\n        return <div className={this.className}>\n            {this.traverse(this.processBookmarkTree())}\n        </div>;\n    }\n}\n\n\nexport default BookmarkList;\n","import React, { Component } from 'react';\nimport './Logo.css';\n\n\nclass Logo extends Component {\n    textLogo() {\n        return [\n            '╔═╗┬─┐┌─┐┌─┐┌┬┐┌┬┐┌─┐┬─┐┬┌─',\n            '╠╣ ├┬┘│ │└─┐ │ │││├─┤├┬┘├┴┐',\n            '╚  ┴└─└─┘└─┘ ┴ ┴ ┴┴ ┴┴└─┴ ┴'\n        ];\n    }\n\n    render() {\n        return <div className='logo'>\n            <code className='logo-line'>\n                {this.textLogo().map((item) => {\n                    return item + '\\n'\n                })}\n            </code>\n        </div>;\n    }\n}\n\n\nexport default Logo;\n","import React, { Component } from 'react';\nimport './SidebarItem.css';\n\n\nclass SidebarItem extends Component {\n    render() {\n        return <div\n            className={\n                this.props.className\n                ? `logo-item ${this.props.className}`\n                : 'logo-item'\n            }\n            onClick={this.props.action}\n        >\n            <div className='logo-item-label'>{this.props.text}</div>\n        </div>;\n    }\n}\n\n\nexport default SidebarItem;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Sidebar.css';\n\nimport Logo from './Logo';\nimport SidebarItem from './SidebarItem';\n\n\nclass Sidebar extends Component {\n    constructor() {\n        super();\n        this.createImportBody = this.createImportBody.bind(this);\n    }\n\n    createImportBody() {\n        return <form\n            enctype='multipart/form-data'\n            method='post'\n            action='/api/import_bookmarks'\n        >\n            <h4>Choose bookmark browser type:</h4>\n            <p className='bookmarkLabelParagraph'>\n                <select name='browser'>\n                    <option value='firefox' selected={true}>Firefox</option>\n                    <option value='chrome'>Chrome</option>\n                    <option value='opera'>Opera</option>\n                </select>\n            </p>\n            <h4>Select a bookmark profile:</h4>\n            <p className='bookmarkLabelParagraph'>\n                <input name='file' type='file' />\n            </p>\n            <p className='bookmarkLabelParagraph'>\n                <input type='submit' value='Import' />\n                <button\n                    onClick={this.props.appRef.closeModal}\n                    style={{ float: 'right' }}\n                >\n                    Cancel\n                </button>\n            </p>\n        </form>;\n    }\n\n    render() {\n        return <div className='sidebar'>\n            <Logo />\n            <SidebarItem\n                text='Import'\n                action={event => {\n                    this.props.appRef.openModal(\n                        'Import bookmarks', this.createImportBody\n                    );\n                }}\n            />\n            <SidebarItem\n                text='Export'\n                action={event => {\n                    const win = window.open(\n                        '/api/export_bookmarks',\n                        '_blank'\n                    );\n                    win.focus();\n                }}\n            />\n            <Link to='/bookmark-list'>\n                <SidebarItem text='Bookmarks' />\n            </Link>\n            <Link to='/profile-list'>\n                <SidebarItem text='Profiles' />\n            </Link>\n            <SidebarItem\n                text='Contribute'\n                action={event => {\n                    const win = window.open(\n                        'https://github.com/KeyWeeUsr/frostmark',\n                        '_blank'\n                    );\n                    win.focus();\n                }}\n            />\n            <SidebarItem text='About' className='not-implemented' />\n        </div>;\n    }\n}\n\n\nexport default Sidebar;\n","import React, { Component } from 'react';\nimport fetch from 'node-fetch';\n\nimport './ProfileList.css';\n\n\nclass ProfileList extends Component {\n    constructor() {\n        super();\n        this.state = {\n            profiles: {}\n        };\n    }\n\n    componentWillMount() {\n        this.getProfiles();\n    }\n\n    getProfiles() {\n        fetch(\n            '/api/list_profiles',\n            { mode: \"cors\" }\n        ).then(response => response.json()).then(data => {\n            this.setState({ profiles: data });\n        });\n    }\n\n    render() {\n        return <div className='profile-list'><dl>{\n            Object.keys(this.state.profiles).map(browser => {\n                const title = <dt>{browser}</dt>;\n                const items = this.state.profiles[browser].map(profile => {\n                    return <dd>{profile}</dd>;\n                });\n                if (!this.state.profiles[browser].length) {\n                    return [];\n                } else {\n                    return [title, items];\n                }\n            })\n        }</dl></div>;\n    }\n}\n\n\nexport default ProfileList;\n","/**\n * Main application entrypoint assembling all other components.\n */\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport './App.css';\nimport GlobalModal from './GlobalModal';\nimport BookmarkList from './BookmarkList';\nimport Sidebar from './Sidebar';\nimport ProfileList from './ProfileList';\n\n\n/**\n * Application class included in the index.js/index.html.\n */\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            modalIsOpen: false,\n            modalTitle: '',\n            modalBodyBuilder: () => {}\n        };\n\n        // Bind the functions to the instance\n        this.openModal = this.openModal.bind(this);\n        this.closeModal = this.closeModal.bind(this);\n    }\n\n    /**\n     * Create a modal with a custom title and a function that renders its body.\n     */\n    openModal(title, bodyBuilder) {\n        this.setState({\n            modalTitle: title,\n            modalIsOpen: true,\n            modalBodyBuilder: bodyBuilder\n        });\n    }\n\n    /**\n     * Close the modal and clear the defaults.\n     */\n    closeModal() {\n        this.setState({\n            modalTitle: '',\n            modalIsOpen: false,\n            modalBodyBuilder: () => {}\n        });\n    }\n\n    /**\n     * Render all the components.\n     */\n    render() {\n        return <div className=\"app\">\n            <Router>\n                <Sidebar appRef={this} />\n                <GlobalModal\n                    appRef={this}\n                    isOpen={this.state.modalIsOpen}\n                    getBody={this.state.modalBodyBuilder}\n                    title={this.state.modalTitle}\n                />\n                <Route path='/bookmark-list' component={\n                    () => <BookmarkList appRef={this} />\n                } />\n                <Route path='/profile-list' component={\n                    () => <ProfileList appRef={this} />\n                } />\n            </Router>\n        </div>;\n    }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'font-awesome/css/font-awesome.min.css';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}