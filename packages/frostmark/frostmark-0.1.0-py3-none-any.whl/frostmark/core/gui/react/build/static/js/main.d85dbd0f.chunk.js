(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(60)},35:function(e,t,a){},36:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),l=a.n(r),i=(a(34),a(35),a(1)),c=a(2),s=a(4),u=a(3),p=a(10),m=a(5),d=a(14),f=a(11),h=(a(36),a(15)),b=a.n(h);b.a.defaultStyles.overlay.backgroundColor="#333333AA",b.a.defaultStyles.content.backgroundColor="#222222CC",b.a.defaultStyles.content.border="#333333CC";var k=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(b.a,{ariaHideApp:!1,isOpen:this.props.isOpen,style:{content:{height:"auto",bottom:"auto",width:"80vw",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}},o.a.createElement("h2",null,this.props.title),this.props.getBody())}}]),t}(n.Component),y=(a(47),a(16)),E=a.n(y),v=a(19),O=a.n(v),j=(a(48),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("span",{className:"node"},this.props.text)}}]),t}(n.Component)),_=(a(49),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={folders:[]},a.createModalBody=a.createModalBody.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getFolders()}},{key:"getFolders",value:function(){var e=this;fetch("/api/list_folders",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.setState({folders:t})})}},{key:"createModalBody",value:function(){var e=this;return o.a.createElement("form",{className:"bookmarkLabelForm",action:"./api/edit_bookmark",method:"post"},o.a.createElement("input",{type:"hidden",name:"id",value:this.props.id}),o.a.createElement("input",{type:"hidden",name:"folder_id",value:this.props.folder_id}),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{className:"bookmarkLabelInput",type:"text",name:"title",defaultValue:this.props.text})),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("label",null,"URL"),o.a.createElement("input",{className:"bookmarkLabelInput",type:"url",name:"url",defaultValue:this.props.url})),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("label",null,"Folder"),o.a.createElement("select",{className:"bookmarkLabelInput",name:"folder"},this.state.folders.map(function(t){return o.a.createElement("option",{value:t.id,selected:e.props.folder_id===t.id?"selected":""},t.folder_name)}))),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("input",{type:"submit",value:"Save"}),o.a.createElement("button",{onClick:this.props.appRef.closeModal,style:{float:"right"}},"Cancel")))}},{key:"createIconLabel",value:function(){return o.a.createElement("span",null,o.a.createElement("img",{src:this.props.icon,alt:this.props.text})," ",this.props.text)}},{key:"getHyperlink",value:function(){return o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.icon?this.createIconLabel():this.props.text)}},{key:"getLabel",value:function(){var e=this;return o.a.createElement("span",null,this.getHyperlink(),o.a.createElement("span",{className:"bookmarkLabel fa fa-pencil-square-o",style:{float:"right"},onClick:function(){e.props.appRef.openModal("Edit bookmark",e.createModalBody)}}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"info"},this.getLabel())}}]),t}(n.Component)),g=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).className="frostmark-bookmark-list",e.state={bookmarks:[]},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getBookmarks()}},{key:"getBookmarks",value:function(){var e=this;E()("/api/list_tree",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.setState({bookmarks:t})})}},{key:"processBookmarkTree",value:function(){var e,t={},a={};return this.state.bookmarks.forEach(function(e){"Folder"===e.node_type?t[e.id]={id:e.id,folder_name:e.folder_name,children:[],parent_folder_id:e.parent_folder_id,node_type:e.node_type}:"Bookmark"===e.node_type&&(a[e.id]={id:e.id,title:e.title,url:e.url,folder_id:e.folder_id,node_type:e.node_type,icon:e.icon})}),Object.keys(a).forEach(function(n){e=a[n],t.hasOwnProperty(e.folder_id)&&t[e.folder_id].children.push(e)}),Object.keys(t).forEach(function(a){e=t[a],t.hasOwnProperty(e.parent_folder_id)&&null!==e.parent_folder_id&&t[e.parent_folder_id].children.push(e)}),t[0]}},{key:"traverse",value:function(e){var t,a=this;return void 0===e?o.a.createElement(_,{text:"No data found."}):("Folder"===e.node_type?t=e.children.length?o.a.createElement(O.a,{key:"folder|"+e.id,nodeLabel:o.a.createElement(j,{text:e.folder_name})},e.children.map(function(e){return a.traverse(e)})):o.a.createElement(O.a,{key:"folder|"+e.id,nodeLabel:o.a.createElement(j,{text:e.folder_name})}):"Bookmark"===e.node_type&&(t=o.a.createElement(_,{key:"bookmark|"+e.id,id:e.id,folder_id:e.folder_id,url:e.url,icon:e.icon,text:e.title,appRef:this.props.appRef})),t)}},{key:"render",value:function(){return o.a.createElement("div",{className:this.className},this.traverse(this.processBookmarkTree()))}}]),t}(n.Component),N=(a(50),a(51),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"textLogo",value:function(){return["\u2554\u2550\u2557\u252c\u2500\u2510\u250c\u2500\u2510\u250c\u2500\u2510\u250c\u252c\u2510\u250c\u252c\u2510\u250c\u2500\u2510\u252c\u2500\u2510\u252c\u250c\u2500","\u2560\u2563 \u251c\u252c\u2518\u2502 \u2502\u2514\u2500\u2510 \u2502 \u2502\u2502\u2502\u251c\u2500\u2524\u251c\u252c\u2518\u251c\u2534\u2510","\u255a  \u2534\u2514\u2500\u2514\u2500\u2518\u2514\u2500\u2518 \u2534 \u2534 \u2534\u2534 \u2534\u2534\u2514\u2500\u2534 \u2534"]}},{key:"render",value:function(){return o.a.createElement("div",{className:"logo"},o.a.createElement("code",{className:"logo-line"},this.textLogo().map(function(e){return e+"\n"})))}}]),t}(n.Component)),B=(a(52),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.className?"logo-item ".concat(this.props.className):"logo-item",onClick:this.props.action},o.a.createElement("div",{className:"logo-item-label"},this.props.text))}}]),t}(n.Component)),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).createImportBody=e.createImportBody.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createImportBody",value:function(){return o.a.createElement("form",{enctype:"multipart/form-data",method:"post",action:"/api/import_bookmarks"},o.a.createElement("h4",null,"Choose bookmark browser type:"),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("select",{name:"browser"},o.a.createElement("option",{value:"firefox",selected:!0},"Firefox"),o.a.createElement("option",{value:"chrome"},"Chrome"),o.a.createElement("option",{value:"opera"},"Opera"))),o.a.createElement("h4",null,"Select a bookmark profile:"),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("input",{name:"file",type:"file"})),o.a.createElement("p",{className:"bookmarkLabelParagraph"},o.a.createElement("input",{type:"submit",value:"Import"}),o.a.createElement("button",{onClick:this.props.appRef.closeModal,style:{float:"right"}},"Cancel")))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"sidebar"},o.a.createElement(N,null),o.a.createElement(B,{text:"Import",action:function(t){e.props.appRef.openModal("Import bookmarks",e.createImportBody)}}),o.a.createElement(B,{text:"Export",action:function(e){window.open("/api/export_bookmarks","_blank").focus()}}),o.a.createElement(d.b,{to:"/bookmark-list"},o.a.createElement(B,{text:"Bookmarks"})),o.a.createElement(d.b,{to:"/profile-list"},o.a.createElement(B,{text:"Profiles"})),o.a.createElement(B,{text:"Contribute",action:function(e){window.open("https://github.com/KeyWeeUsr/frostmark","_blank").focus()}}),o.a.createElement(B,{text:"About",className:"not-implemented"}))}}]),t}(n.Component),C=(a(59),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={profiles:{}},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getProfiles()}},{key:"getProfiles",value:function(){var e=this;E()("/api/list_profiles",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.setState({profiles:t})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"profile-list"},o.a.createElement("dl",null,Object.keys(this.state.profiles).map(function(t){var a=o.a.createElement("dt",null,t),n=e.state.profiles[t].map(function(e){return o.a.createElement("dd",null,e)});return e.state.profiles[t].length?[a,n]:[]})))}}]),t}(n.Component)),L=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={modalIsOpen:!1,modalTitle:"",modalBodyBuilder:function(){}},e.openModal=e.openModal.bind(Object(p.a)(e)),e.closeModal=e.closeModal.bind(Object(p.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"openModal",value:function(e,t){this.setState({modalTitle:e,modalIsOpen:!0,modalBodyBuilder:t})}},{key:"closeModal",value:function(){this.setState({modalTitle:"",modalIsOpen:!1,modalBodyBuilder:function(){}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app"},o.a.createElement(d.a,null,o.a.createElement(x,{appRef:this}),o.a.createElement(k,{appRef:this,isOpen:this.state.modalIsOpen,getBody:this.state.modalBodyBuilder,title:this.state.modalTitle}),o.a.createElement(f.a,{path:"/bookmark-list",component:function(){return o.a.createElement(g,{appRef:e})}}),o.a.createElement(f.a,{path:"/profile-list",component:function(){return o.a.createElement(C,{appRef:e})}})))}}]),t}(n.Component);l.a.render(o.a.createElement(L,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.d85dbd0f.chunk.js.map