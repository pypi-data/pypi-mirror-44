.\" Man page generated from reStructuredText.
.
.TH RTCOMP 1 "2015-08-13" "4.0" "User commands"
.SH NAME
rtcomp \- manage composite components
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
rtcomp [options] <manager[:name]|composite component path>
.SH DESCRIPTION
.sp
Composes multiple components into a single composite component, exposing
a selection of their ports externally. A new composition can be created
or an existing composition edited. New members can be added to  and
members removed from existing compositions, and the exported ports list
can be changed. The type of composition to create can be specified.
.sp
The required option is either the path to an existing composition to
edit, or the path to a manager to create the composition in. If a
manager is specified, a name for the new composition can be specified,
separated from the manager path by a colon. If a name is not specified,
a default name will be chosen. See the \fI\%Examples\fP section for examples.
.sp
When specifying components to add or remove, a list of ports to export
or hide can be specified after the component path, separated from the
path by a colon. The ports in the list should be comma\-separated. See
the \fI\%Examples\fP section for examples.
.SH OPTIONS
.INDENT 0.0
.TP
.BI \-a \ ADD\fP,\fB \ \-\-add\fB= ADD
A component to include in the composition. Specify a comma\-separated
list of ports to export after the component name, separated by a
colon.
.TP
.BI \-o \ OPTIONS\fP,\fB \ \-\-options\fB= OPTIONS
Extra options to pass to the component on creation.
.TP
.BI \-r \ REMOVE\fP,\fB \ \-\-remove\fB= REMOVE
A component or ports to remove from the composition.
.TP
.BI \-t \ TYPE\fP,\fB \ \-\-type\fB= TYPE
Type of composite component to create. [Default:
PeriodicECSharedComposite]
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
Show program\(aqs version number and exit
.TP
.B \-h\fP,\fB  \-\-help
Show a help message and exit
.TP
.B \-v\fP,\fB  \-\-verbose
Output verbose information. [Default: \fBFalse\fP]
.UNINDENT
.SH PATHS
.sp
\fBrtshell\fP uses \fIpaths\fP to indicate objects in the RTC Tree. A path is
the address of object. Name servers and naming contexts on name servers
are considered directories. Managers and RT\-Components are considered
\(aqfiles\(aq. As with the POSIX \fBcat\fP command, the path specified as an
argument to commands is appended to the current rtshell working
directory, which is stored in the \fBRTCSH_CWD\fP environment variable and
changeable using the \fBrtcwd\fP command.
.sp
The available paths depend on the known name servers at the time the
command is executed. This is a combination of the servers listed in the
\fBRTCSH_NAMESERVERS\fP environment variable and the servers used in given
paths.
.sp
For example, \fB/localhost/comp0.rtc\fP refers to the component named
\fBcomp0.rtc\fP registered on the name server at \fBlocalhost\fP\&.
\fB/localhost/manager/comp0.rtc\fP refers to the component \fBcomp0.rtc\fP
in the directory \fBmanager\fP on the \fBlocalhost\fP name server.
\fB\&./comp0.rtc\fP refers to that component in the current directory.
.sp
When specifying a port on an RT\-Component, it should be placed after the
path, separated by a colon. For example, \fB/localhost/comp0.rtc:data\fP
refers to the port \fBdata\fP on the component \fBcomp0.rtc\fP\&.
.sp
Some commands that create new ports accept extra options in the paths,
such as a name for the automatically generated port, or a formatter. The
format for specifying these paths is:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
path:port.name#formatter
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
For example:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/localhost/blurg.host_cxt/comp0.rtc:input.stuff#a_printer
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This specifies that the automatically generated port should be named
\fBstuff\fP, and the data type it handles should be printed using the
\fBa_printer\fP function (which must be available, usually it is provided
by the user in a loadable module). The port will be connected to the
\fBinput\fP port of the \fBcomp0.rtc\fP component.
.sp
The name component is optional. If it is not present, neither
should the \fB\&.\fP character be. For example:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/localhost/blurg.host_cxt/comp0.rtc:input#a_printer
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The formatter component is optional. If it is not present, neither
should the \fB#\fP character be. For example:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/localhost/blurg.host_cxt/comp0.rtc:input.stuff
.ft P
.fi
.UNINDENT
.UNINDENT
.SH ENVIRONMENT
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B RTCTREE_ORB_ARGS
A list of arguments, separated by semi\-colons, to pass to the ORB
when creating it. Optional.
.TP
.B RTCTREE_NAMESERVERS
A list of name server addresses, separated by semi\-colons, to parse
when creating the RTCTree. Each server in the list will be added to
the tree, making it available for browsing with rtshell.  Optional.
.TP
.B RTSH_CWD
The current working directory in the tree. Do not set this variable;
it is set automatically by rtshell.
.UNINDENT
.UNINDENT
.UNINDENT
.sp
The only variable that should normally be set by the user is
\fBRTCTREE_NAMESERVERS\fP\&. Set this to a list of name server addresses,
separated by semi\-colons, that rtshell should interact with. For
example, in a Bash shell, the following command will set the known name
serves to \fBlocalhost\fP, \fB192.168.0.1:65346\fP and \fBexample.com\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ export RTCTREE_NAMESERVERS=localhost;192.168.0.1:65346;example.com
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DIAGNOSTICS
.sp
Returns \fBzero\fP on success and \fBnon\-zero\fP on failure.
.sp
Verbose output and error messages are printed to \fBstderr\fP\&.
.SH EXAMPLES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtcomp /localhost/manager.mgr:MotorUnit \-a
/localhost/Motor0.rtc:out \-a /localhost/Controller0.rtc:in,out
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Create a composite component using the \fBMotor0.rtc\fP and
\fBController0.rtc\fP components, exposing the \fBin\fP and \fBout\fP ports of
\fBController0.rtc\fP and the \fBout\fP port of \fBMotor0.rtc\fP\&. The
component\(aqs instance name will be \fBMotorUnit\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtcomp /localhost/MotorUnit.rtc \-a /localhost/Sensor0.rtc:out
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Edit the existing \fBMotorUnit.rtc\fP composite component, adding the
\fBSensor0.rtc\fP component as a new user and exporting its \fBout\fP port.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtcomp /localhost/MotorUnit.rtc \-a /localhost/Sensor0.rtc:in
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Edit the existing \fBMotorUnit.rtc\fP, which already contains
\fBSensor0.rtc\fP as a member, to export the \fBin\fP port of
\fBSensor0.rtc\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtcomp /localhost/MotorUnit.rtc \-r /localhost/Sensor0.rtc:out
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Edit the existing \fBMotorUnit.rtc\fP, which already contains
\fBSensor0.rtc\fP as a member, to hide the \fBout\fP port of
\fBSensor0.rtc\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtcomp /localhost/MotorUnit.rtc \-r /localhost/Controller0.rtc:in,out
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Edit the existing \fBMotorUnit.rtc\fP, which already contains
\fBController0.rtc\fP as a member, to hide the \fBin\fP and \fBout\fP ports of
\fBController0.rtc\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtcomp /localhost/MotorUnit.rtc \-r /localhost/Controller0.rtc \-r
/localhost/Motor0.rtc
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Edit the existing \fBMotorUnit.rtc\fP, which already contains
\fBController0.rtc\fP and \fBMotor0.rtc\fP as a members, to remove them from
the composition.
.SH SEE ALSO
.sp
\fBrtmgr\fP (1)
.SH AUTHOR
Geoffrey Biggs and contributors
.SH COPYRIGHT
LGPL3
.\" Generated by docutils manpage writer.
.
