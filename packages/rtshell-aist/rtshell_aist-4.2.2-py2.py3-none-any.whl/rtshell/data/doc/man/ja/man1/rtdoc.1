.\" Man page generated from reStructuredText.
.
.TH RTDOC 1 "2015-08-13" "4.0" "User commands"
.SH NAME
rtdoc \- RTコンポーネントのドキュメンテーションを表示する
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH 書式
.sp
rtdoc [options] <path>
.SH 概要
.sp
RTコンポーネントのドキュメンテーションを表示します。
.sp
あるRTコンポーネントは内部的にドキュメントを含んでおり、それは、隠され
たコンフィグレーションセットに保存されています。
このツールでそのドキュメンテーションを複数のフォーマットで表示できます。
対応フォーマットは reStructuredText、HTML、およびPDFへのコンパイルに
適しているLaTeXです。
.SH オプション
.INDENT 0.0
.TP
.BI \-f \ FORMAT\fP,\fB \ \-\-format\fB= FORMAT
フォーマットを選択します。 \fBrst\fP 、 \fBhtml\fP および \fBlatex\fP から選択し
てください。
.TP
.B \-g\fP,\fB  \-\-graph
コンポーネントのグラフを表示させます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
プログラムのバージョン番号を表示して終了する
.TP
.B \-h\fP,\fB  \-\-help
ヘルプを表示して終了する
.TP
.B \-v\fP,\fB  \-\-verbose
冗長な情報を出力する [デフォルト： \fBFalse\fP]
.UNINDENT
.SH RTコンポーネントのドキュメンテーション
.sp
このツールに対応するためにRTコンポーネントは \fB__doc__\fP というセットに
ドキュメンテーションを保存しないとなりません。このセットでの隠されていな
いパラメータはすべてセクションとしてドキュメンテーションに追加されます。
隠されたセットは名が \fB__\fP で囲まれています。
.sp
一般のセクションは以下の通りです:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
intro
  コンポーネントの紹介です。目的を短く説明します。(Title:
  \(ga\(gaIntroduction\(ga\(ga.)

reqs
  ほかの必要なソフトなどのコンポーネントを使うための要件です。
  (Title: \(ga\(gaPre\-requisites\(ga\(ga.)

install
  コンポーネントのインストール手続きです。
  (Title: \(ga\(gaInstallation\(ga\(ga.)

usage
  コンポーネントの使い方です。(Title: \(ga\(gaUsage\(ga\(ga.)

misc
  ほかの必要な情報です。(Title: \(ga\(gaMiscellaneous\(ga\(ga.)

changelog
  コンポーネントのバージョン間の変更を説明します。
  (Title: \(ga\(gaChangelog\(ga\(ga.)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
上記に加え、コンポーネントにポートがある場合、 \fBports\fP というセクションが
自動的に作られて、 \fBdefault\fP というセットにコンフィグレーションパラメー
タがある場合、 \fBconfig\fP というセクションが自動的に作られます。
\fB__doc__\fP セットにほかのセクションがある場合、それも自動的に作られます。
.sp
拡張情報をドキュメンテーション前文に追加するため、３つパラメータをセッ
トすることもできます。
\fB__doc__\fP セットにパラメータを設定してください。
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B __license__
コンポーネントのライセンス。LGPL、BSD等。
.TP
.B __contact__
開発者の連絡先。メールアドレス等。
.TP
.B __url__
コンポーネントのウェブサイト。
.UNINDENT
.UNINDENT
.UNINDENT
.sp
ドキュメンテーションのパラメータはソースまたはコンフィグレーションファイ
ルに設定することも可能です。ソースに設定した場合コンポーネントを使う時に必
要なメモリーが大きくなることがあるので、ファイルの方がおすすめです。
.sp
ソースに設定する場合は以下のようにできます:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
\(aqconf.__doc__.__license__\(aq, \(aqLGPL\(aq,
\(aqconf.__doc__.__contact__\(aq, \(aqa@example.com\(aq,
\(aqconf.__doc__.__url__\(aq, \(aqhttp://www.openrtm.org\(aq,
\(aqconf.__doc__.intro\(aq, \(aqThis is the introduction.\(aq,
\(aqconf.__doc__.reqs\(aq, \(aqThis component requires nothing.\(aq,
\(aqconf.__doc__.install\(aq, \(aqType "make install"\(aq,
\(aqconf.__doc__.usage\(aq, \(aqRun comp_standalone.\(aq,
\(aqconf.__doc__.misc\(aq, \(aqExtra information.\(aq,
\(aqconf.__doc__.changelog\(aq, \(aqNo changes.\(aq,
\(aqconf.__doc__.Another\(aq, \(aqA non\-standard section.\(aq,
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
デフォルトでセクションは以下の順番に表示します。
.INDENT 0.0
.INDENT 3.5
intro, reqs, usage, ports, config, misc, changelog, [他のセクション]
.UNINDENT
.UNINDENT
.sp
\fB__doc__\fP セットの \fB__order__\fP というパラメータを設定することによって
変更することが可能です。パラメータ名のリストにコンマ区切りで設定してください。
パラメータ名はセクションを示します:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
\(aqconf.__doc__.__order__\(aq, \(aqintro,ports,config,reqs,Another\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
このパラメータに入っていないセクションはその後に表示します。
.sp
ポートのドキュメンテーションは \fBdescription\fP というプロパティをポートに
追加します:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
self._inport.addProperty(\(aqdescription\(aq, \(aqThis port receives stuff.\(aq)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
コンフィグレーションパラメータのドキュメンテーションは
\fB__description__\fP というセットに設定します:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
\(aqconf.default.param\(aq, \(aq0\(aq,
\(aqconf.__description__.param\(aq, \(aqA test parameter.\(aq,
.ft P
.fi
.UNINDENT
.UNINDENT
.SH パス
.sp
\fBrtshell\fP は \fIパス\fP でRTCツリーのオブジェクトを示します。パスは
オブジェクトのアドレスです。ネームサーバとネームコンテクストは
ダイレクトリで、マネージャとRTコンポーネントはファイルです。POSIXの
\fBcat\fP 等のコマンドと同じように、コマンドに渡したパスはrtshellの
ワーキングディレクトリに追加されます。rtshellの現在のワーキングディレクトリは
\fBRTCSH_CWD\fP という環境変数に保存されて、 \fBrtcwd\fP というコマンドで
変更することができます。
.sp
利用できるパスはコマンド実行時のネームサーバによって変わります。
\fBRTCSH_NAMESERVERS\fP という環境変数の値に記録されたネームサーバとパスに
指定された ネームサーバを組み合わせて提供します。
.sp
例えば、 \fB/localhost/comp0.rtc\fP は \fBlocalhost\fP にあるネームサーバに登録
された \fBcomp0.rtc\fP というRTコンポーネントを示します。
\fB/localhost/manager/comp0.rtc\fP は \fBlocalhost\fP にあるネームサーバの下の
\fBmanager\fP というディレクトリに登録された \fBcomp0.rtc\fP というRT
コンポーネントを示します。 \fB\&./comp0.rtc\fP は現在のワーキングディレクトリ
の中にある \fBcomp0.rtc\fP というRTコンポーネントを示します。
.sp
RTコンポーネントのポートを示す場合、パスの後にコロン（「:」）で区切って
示します。例えば、 \fB/localhost/comp0.rtc:data\fP は
\fBcomp0.rtc\fP というRTコンポーネントの \fBdata\fP というポートを示します。
.sp
新しいポートを作るコマンドもあります。この場合、オプションをパスに追加
することができます。使えるオプションは作られるポートの名前とフォーマッタ
です。指定方法は以下の通りです:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
path:port.name#formatter
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
例:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/localhost/blurg.host_cxt/comp0.rtc:input.stuff#a_printer
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
作られるポートの名前は \fBstuff\fP で、データは \fBa_printer\fP という関数で
ターミナルに表示するように指定してます。（ \fBa_printer\fP の関数はPythonが利
用可能な場所に存在する必要があります。普通はユーザがモジュールで提供します。）
作られたポートは \fBcomp0.rtc\fP の \fBinput\fP というポートに接続します。
.sp
「name」という部分は必須ではありません。書いていない場合は「.」文字も
書かないでください。例:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/localhost/blurg.host_cxt/comp0.rtc:input#a_printer
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
「formatter」という部分は必須ではありません。書いていない場合は「.」文字も
書かないでください。例:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/localhost/blurg.host_cxt/comp0.rtc:input.stuff
.ft P
.fi
.UNINDENT
.UNINDENT
.SH 環境変数
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B RTCTREE_ORB_ARGS
ORBを作る時に渡す変数です。セミコロンで区切ります。必須ではありません。
.TP
.B RTCTREE_NAMESERVERS
RTCツリーを作る時に参照するネームサーバのアドレスです。アドレスをセミ
コロンで区切ります。リストされたアドレスはすべてRTCツリーに追加して
rtshellで見ることができるようになります。必須ではありません。
.TP
.B RTSH_CWD
rtshellの現在のワーキングディレクトリ。rtshellが自動的に設定します。
設定しないでください。
.UNINDENT
.UNINDENT
.UNINDENT
.sp
普通、ユーザが設定する変数は \fBRTCTREE_NAMESERVERS\fP のみです。よく使うネ
ームサーバを設定しておくと便利です。例えば、Bashシェルの場合、以下のコマンド
は \fBlocalhost\fP 、 \fB192.168.0.1:65346\fP および \fBexample.com\fP にあるネーム
サーバをいつもrtshellで利用できるようにします。
.INDENT 0.0
.INDENT 3.5
$ export RTCTREE_NAMESERVERS=localhost;192.168.0.1:65346;example.com
.UNINDENT
.UNINDENT
.SH 返り値
.sp
成功の場合はゼロを返します。失敗の場合はゼロではない値を返します。
.sp
デバグ情報とエラーは \fBstderr\fP に出します。
.SH 例
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtdoc /localhost/ConsoleOut0.rtc
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBConsoleOut0.rtc\fP のドキュメンテーションを標準出力に表示します。
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtdoc /localhost/ConsoleOut0.rtc > doc.html
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBConsoleOut0.rtc\fP のドキュメンテーションを \fBdoc.html\fP というファイルに
保存します。
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtdoc /localhost/ConsoleOut0.rtc \-f rst
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBConsoleOut0.rtc\fP のドキュメンテーションをreStructuredTextフォーマット
に表示します。
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ rtdoc /localhost/ConsoleOut0.rtc \-f latex > doc.tex &&
  rubber \-d doc.tex
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBConsoleOut0.rtc\fP のドキュメンテーションを \fBrubber\fP ツールによってPDF
に保存します。
.SH 参照
.INDENT 0.0
.INDENT 3.5
\fBrtconf\fP (1),
\fBrubber\fP (1)
.UNINDENT
.UNINDENT
.SH AUTHOR
Geoffrey Biggs and contributors
.SH COPYRIGHT
LGPL3
.\" Generated by docutils manpage writer.
.
