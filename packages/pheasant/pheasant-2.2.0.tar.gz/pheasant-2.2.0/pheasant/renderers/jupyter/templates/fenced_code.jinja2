{%- from 'macro.jinja2' import output_display with context -%}

{%- if 'hide' not in option -%}
<div class="input"><pre><code class="{{ language }}">{{ code }}</code></pre>
<p class="report"><span class="count">[{{ report.cursor }}]</span>
<span class="start">{{ report.start }}</span> (<span class="cell">{{ report.cell }}</span>)
<span class="right">{%- if option -%}<span class="option">({{ option }})</span> {% endif -%}
<span class="kernel">{{ config.kernel_name[language] }}</span> <span class="total-count">[{{ report.count }}]</span>
(<span class="page">{{ report.page }}</span>) (<span class="total">{{ report.total }}</span>)
</span></p></div>
  {%- for output in outputs if output.type != 'display_data' -%}
    {%- if output.type == 'error' -%}
        <div class="error"><pre><code class="nohighlight">{{ output.ename }}: {{ output.evalue }}</code></pre>
        <pre class="traceback"><code class="nohighlight">{{ output.traceback }}</code></pre></div>
    {%- elif output.type == 'stream' and 'nostd' not in option -%}
        <div class="{{ output.name }}"><pre><code class="text">{{ output.text }}</code></pre></div>
    {%- elif 'text/plain' in output.data -%}
        <div class="output"><pre><code class="plaintext">{{ output.data['text/plain'] }}</code></pre></div>
    {%- endif -%}
  {%- endfor -%}
  {%- for output in outputs -%}{{ output_display(output, false) }}{%- endfor -%}
{%- endif -%}
