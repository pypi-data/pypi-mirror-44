--- &lobals
gggg: &globals
  number: 1
  x: 1
  y: !path zzzz
  z: zzzz
  k: !$:globals "{type(x)}-{type(y)}-{type(z)}-y:{y}"
  pathtype: !!python/name:pathlib.Path
  e: !envvar:AX
    default: 1

testf: !$:globals "we-got-number-{number}-{type(z)}"
kkk: !$:lobals "{gggg['pathtype']}"
a: *globals
b: *globals
c: !f:lobals "{d}-{abs(_local)}-{c}"
d: 221